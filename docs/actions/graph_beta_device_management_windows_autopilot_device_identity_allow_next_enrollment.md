---
page_title: "microsoft365_graph_beta_device_management_windows_autopilot_device_identity_allow_next_enrollment Action - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Allows the next enrollment for an Autopilot device in Microsoft Intune using the /deviceManagement/windowsAutopilotDeviceIdentities/{windowsAutopilotDeviceIdentityId}/allowNextEnrollment endpoint. This action enables the device to be enrolled again.
---

# microsoft365_graph_beta_device_management_windows_autopilot_device_identity_allow_next_enrollment (Action)

Allows the next enrollment for an Autopilot device in Microsoft Intune using the `/deviceManagement/windowsAutopilotDeviceIdentities/{windowsAutopilotDeviceIdentityId}/allowNextEnrollment` endpoint. This action enables the device to be enrolled again.

## Microsoft Documentation

- [allowNextEnrollment action](https://learn.microsoft.com/en-us/graph/api/intune-enrollment-windowsautopilotdeviceidentity-allownextenrollment?view=graph-rest-beta)
- [windowsAutopilotDeviceIdentity resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-enrollment-windowsautopilotdeviceidentity?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this action.

### Microsoft Graph

- **Application**: `DeviceManagementServiceConfig.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.31.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Allow next enrollment for an Autopilot device
action "microsoft365_graph_beta_device_management_windows_autopilot_device_identity_allow_next_enrollment" "example" {
  windows_autopilot_device_identity_id = "12345678-1234-1234-1234-123456789abc"

  timeouts = {
    create = "5m"
  }
}
```

<!-- action schema generated by tfplugindocs -->
## Schema

### Required

- `windows_autopilot_device_identity_id` (String) The unique identifier of the Windows Autopilot device identity to allow next enrollment for. This is the ID of the Windows Autopilot device in Microsoft Intune.

### Optional

- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).