---
page_title: "microsoft365_graph_directory_management_subscribed_skus Data Source - terraform-provider-microsoft365"
subcategory: "Directory Management"
description: |-
  Retrieves information about Microsoft 365 license SKUs (Stock Keeping Units) that an organization has subscribed to. This data source provides details about available licenses, their consumption, and service plans.
---

# microsoft365_graph_directory_management_subscribed_skus (Data Source)

Retrieves information about Microsoft 365 license SKUs (Stock Keeping Units) that an organization has subscribed to. This data source provides details about available licenses, their consumption, and service plans.

## API Permissions

The following API permissions are required in order to use this data source.

### Microsoft Graph

- **Application**: `LicenseAssignment.Read.All`, `Directory.Read.All`, `Organization.Read.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.15.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Example: Get all subscribed SKUs
data "microsoft365_graph_directory_management_subscribed_skus" "all" {
  timeouts = {
    read = "30s"
  }
}

# Example: Filter by SKU part number
data "microsoft365_graph_directory_management_subscribed_skus" "enterprise_premium" {
  sku_part_number = "ENTERPRISEPREMIUM"

  timeouts = {
    read = "30s"
  }
}

# Example: Filter by applies_to User
data "microsoft365_graph_directory_management_subscribed_skus" "user_skus" {
  applies_to = "User"

  timeouts = {
    read = "30s"
  }
}

# Example: Get specific SKU by ID
data "microsoft365_graph_directory_management_subscribed_skus" "specific_sku" {
  sku_id = "c7df2760-2c81-4ef7-b578-5b5392b571df"

  timeouts = {
    read = "30s"
  }
}

# Example: Filter by partial SKU part number match
data "microsoft365_graph_directory_management_subscribed_skus" "premium_skus" {
  sku_part_number = "PREMIUM"

  timeouts = {
    read = "30s"
  }
}

# Output examples
output "all_skus_count" {
  value       = length(data.microsoft365_graph_directory_management_subscribed_skus.all.subscribed_skus)
  description = "Total number of subscribed SKUs"
}

output "enterprise_premium_sku" {
  value       = data.microsoft365_graph_directory_management_subscribed_skus.enterprise_premium.subscribed_skus
  description = "Enterprise Premium SKU details"
}

output "user_assignable_skus" {
  value = [
    for sku in data.microsoft365_graph_directory_management_subscribed_skus.user_skus.subscribed_skus : {
      sku_part_number   = sku.sku_part_number
      consumed_units    = sku.consumed_units
      enabled_units     = sku.prepaid_units.enabled
      capability_status = sku.capability_status
    }
  ]
  description = "Summary of SKUs that can be assigned to users"
}

output "specific_sku_service_plans" {
  value       = length(data.microsoft365_graph_directory_management_subscribed_skus.specific_sku.subscribed_skus) > 0 ? data.microsoft365_graph_directory_management_subscribed_skus.specific_sku.subscribed_skus[0].service_plans : []
  description = "Service plans for the specific SKU"
}

output "premium_skus_summary" {
  value = [
    for sku in data.microsoft365_graph_directory_management_subscribed_skus.premium_skus.subscribed_skus : {
      name               = sku.sku_part_number
      total_licenses     = sku.prepaid_units.enabled
      used_licenses      = sku.consumed_units
      available_licenses = sku.prepaid_units.enabled - sku.consumed_units
    }
  ]
  description = "License usage summary for Premium SKUs"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `applies_to` (String) Filter results by target class. Possible values: 'User', 'Company'. When specified, only SKUs that apply to the specified target will be returned.
- `sku_id` (String) Filter results by a specific SKU ID (GUID). When specified, only the matching SKU will be returned.
- `sku_part_number` (String) Filter results by SKU part number (e.g., 'ENTERPRISEPREMIUM', 'AAD_PREMIUM'). When specified, only matching SKUs will be returned.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier for this data source operation.
- `subscribed_skus` (Attributes List) List of subscribed SKUs available to the organization. (see [below for nested schema](#nestedatt--subscribed_skus))

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--subscribed_skus"></a>
### Nested Schema for `subscribed_skus`

Read-Only:

- `account_id` (String) The unique ID of the account this SKU belongs to.
- `account_name` (String) The name of the account this SKU belongs to.
- `applies_to` (String) The target class for this SKU. Only SKUs with target class 'User' are assignable. Possible values: 'User', 'Company'.
- `capability_status` (String) The status of the SKU. Possible values: 'Enabled', 'Warning', 'Suspended', 'Deleted', 'LockedOut'.
- `consumed_units` (Number) The number of licenses that have been assigned.
- `id` (String) The unique identifier for the subscribed SKU object.
- `prepaid_units` (Attributes) Information about the number and status of prepaid licenses. (see [below for nested schema](#nestedatt--subscribed_skus--prepaid_units))
- `service_plans` (Attributes List) Information about the service plans that are available with the SKU. (see [below for nested schema](#nestedatt--subscribed_skus--service_plans))
- `sku_id` (String) The unique identifier (GUID) for the service SKU.
- `sku_part_number` (String) The SKU part number; for example: 'AAD_PREMIUM' or 'RMSBASIC'.
- `subscription_ids` (List of String) A list of all subscription IDs associated with this SKU.

<a id="nestedatt--subscribed_skus--prepaid_units"></a>
### Nested Schema for `subscribed_skus.prepaid_units`

Read-Only:

- `enabled` (Number) The number of units that are enabled.
- `locked_out` (Number) The number of units that are locked out.
- `suspended` (Number) The number of units that are suspended.
- `warning` (Number) The number of units that are in warning state.


<a id="nestedatt--subscribed_skus--service_plans"></a>
### Nested Schema for `subscribed_skus.service_plans`

Read-Only:

- `applies_to` (String) The object the service plan can be assigned to.
- `provisioning_status` (String) The provisioning status of the service plan.
- `service_plan_id` (String) The unique identifier of the service plan.
- `service_plan_name` (String) The name of the service plan.

## Important Notes

- **License Information**: This data source retrieves information about commercial subscriptions that an organization has acquired using the [List subscribedSkus](https://learn.microsoft.com/en-us/graph/api/subscribedsku-list?view=graph-rest-1.0&tabs=http) Microsoft Graph API.
- **Filtering**: Results can be filtered by SKU ID, SKU part number, or applies to (User/Company).
- **License Usage**: The data includes consumed units vs prepaid units to help with license management.
- **Service Plans**: Each SKU includes detailed service plan information with provisioning status.
- **No User Permissions**: This provider only supports application permissions, not delegated user permissions.
