---
page_title: "microsoft365_graph_beta_cloud_pc_cloud_pcs Data Source - terraform-provider-microsoft365"
subcategory: "Cloud PC"
description: |-
  Retrieves Cloud PC devices from Microsoft Intune using the /deviceManagement/virtualEndpoint/cloudPCs endpoint. Supports filtering by all, id, display_name, user_principal_name, status, or product_type for comprehensive Cloud PC management.
---

# microsoft365_graph_beta_cloud_pc_cloud_pcs (Data Source)

Retrieves Cloud PC devices from Microsoft Intune using the `/deviceManagement/virtualEndpoint/cloudPCs` endpoint. Supports filtering by all, id, display_name, user_principal_name, status, or product_type for comprehensive Cloud PC management.

This data source allows you to list and filter Cloud PCs in your tenant, providing details such as status, assigned user, provisioning policy, service plan, and more.

## Microsoft Documentation

- [List cloudPCs](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-list-cloudpcs?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this data source.

### Microsoft Graph

- **Application**: `CloudPC.Read.All`, `CloudPC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.18.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Example: Retrieve all Cloud PCs

data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "all" {
  filter_type = "all"
}

# Output: List all Cloud PC IDs
output "all_cloud_pc_ids" {
  value = [for pc in data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items : pc.id]
}

# Output: Show all details for the first Cloud PC (if present)
output "first_cloud_pc_details" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items[0]
}

# Example: Retrieve a specific Cloud PC by ID
data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "by_id" {
  filter_type  = "id"
  filter_value = "662009bc-7732-4f6f-8726-25883518ffff" # Replace with an actual ID
}

output "cloud_pc_by_id" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.by_id.items[0]
}

# Example: Retrieve Cloud PCs by display name substring
data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "by_display_name" {
  filter_type  = "display_name"
  filter_value = "Demo" # This will match Cloud PCs with "Demo" in their name
}

output "cloud_pcs_by_display_name" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.by_display_name.items
}

# Example: Retrieve Cloud PCs by user principal name
data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "by_upn" {
  filter_type  = "user_principal_name"
  filter_value = "user@contoso.com" # Replace with an actual UPN
}

output "cloud_pcs_by_upn" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.by_upn.items
}

# Example: Retrieve Cloud PCs by status
data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "by_status" {
  filter_type  = "status"
  filter_value = "provisioned" # Valid values include provisioned, provisioning, failed, etc.
}

output "provisioned_cloud_pcs" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.by_status.items
}

# Example: Retrieve Cloud PCs by product type (using server-side filtering)
data "microsoft365_graph_beta_cloud_pc_cloud_pcs" "by_product_type" {
  filter_type  = "product_type"
  filter_value = "enterprise"
}

output "enterprise_cloud_pcs" {
  value = data.microsoft365_graph_beta_cloud_pc_cloud_pcs.by_product_type.items
}

# Example: Show Cloud PC status summary
output "cloud_pc_status_summary" {
  value = {
    total_count        = length(data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items)
    provisioned_count  = length([for pc in data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items : pc if pc.status == "provisioned"])
    provisioning_count = length([for pc in data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items : pc if pc.status == "provisioning"])
    failed_count       = length([for pc in data.microsoft365_graph_beta_cloud_pc_cloud_pcs.all.items : pc if pc.status == "failed"])
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `filter_type` (String) Type of filter to apply. Valid values are: `all`, `id`, `display_name`, `user_principal_name`, `status`, `product_type`. Use 'all' to retrieve all Cloud PCs, 'id' to retrieve a specific Cloud PC by its unique identifier, or other filters to narrow down results.

### Optional

- `filter_value` (String) Value to filter by. Not required when filter_type is 'all'. For 'id', provide the Cloud PC ID. For other filters, provide the appropriate value to match.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `items` (Attributes List) The list of Cloud PCs that match the filter criteria. (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `aad_device_id` (String) The Azure AD device ID associated with the Cloud PC.
- `device_region_name` (String) The Azure region where the Cloud PC is deployed.
- `disk_encryption_state` (String) The disk encryption state of the Cloud PC (e.g., encryptedUsingPlatformManagedKey).
- `display_name` (String) The display name of the Cloud PC.
- `enable_single_sign_on` (Boolean) Indicates whether single sign-on is enabled for the Cloud PC.
- `grace_period_end_date_time` (String) The date and time when the grace period for the Cloud PC ends.
- `id` (String) The unique identifier for the Cloud PC.
- `image_display_name` (String) The display name of the image used for the Cloud PC.
- `last_modified_date_time` (String) The date and time when the Cloud PC was last modified.
- `managed_device_id` (String) The managed device ID associated with the Cloud PC.
- `managed_device_name` (String) The name of the managed device associated with the Cloud PC.
- `on_premises_connection_name` (String) The name of the on-premises connection used for the Cloud PC.
- `product_type` (String) The product type of the Cloud PC (e.g., enterprise).
- `provisioning_policy_id` (String) The ID of the provisioning policy used for the Cloud PC.
- `provisioning_policy_name` (String) The name of the provisioning policy used for the Cloud PC.
- `provisioning_type` (String) The type of provisioning used for the Cloud PC (e.g., dedicated).
- `service_plan_id` (String) The ID of the service plan associated with the Cloud PC.
- `service_plan_name` (String) The name of the service plan associated with the Cloud PC.
- `service_plan_type` (String) The type of service plan associated with the Cloud PC.
- `status` (String) The current status of the Cloud PC (e.g., provisioned, provisioning, failed).
- `status_detail_code` (String) The error/warning code associated with the Cloud PC status.
- `status_detail_message` (String) The status message associated with the error code.
- `user_account_type` (String) The account type of the user on provisioned Cloud PCs (e.g., standardUser, administrator).
- `user_principal_name` (String) The user principal name (UPN) of the user assigned to the Cloud PC. 