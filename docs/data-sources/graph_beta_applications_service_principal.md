---
page_title: "microsoft365_graph_beta_applications_service_principal Data Source - terraform-provider-microsoft365"
subcategory: "Applications"

description: |-
  Retrieves service principals from Microsoft Entra ID using the /servicePrincipals endpoint. This data source enables querying service principals with advanced filtering capabilities including OData queries for filtering by preferred single sign-on mode, account status, and other properties.
---

# microsoft365_graph_beta_applications_service_principal (Data Source)

Retrieves service principals from Microsoft Entra ID using the `/servicePrincipals` endpoint. This data source enables querying service principals with advanced filtering capabilities including OData queries for filtering by preferred single sign-on mode, account status, and other properties.

## Microsoft Documentation

- [servicePrincipal resource type](https://learn.microsoft.com/en-us/graph/api/resources/serviceprincipal?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this data source.

### Microsoft Graph

- **Application**: `Application.Read.All`, `Application.ReadWrite.All`, `Directory.Read.All`, `Directory.ReadWrite.All`.

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.31.0-alpha | Experimental | Initial release |

## Important Notes
This method supports the $select and $expand OData query parameters to help customize the response.

This method supports the $count, $expand, $filter, $orderby, $search, $select, and $top OData query parameters to help customize the response. Some queries are supported only when you use the ConsistencyLevel header set to eventual and $count. For more information, see Advanced query capabilities on directory objects.

By default, this API doesn't return the public key value of the key in the keyCredentials property unless keyCredentials is specified in a $select query. For example, $select=id,appId,keyCredentials.

The use of $select to get keyCredentials for service principals has a throttling limit of 150 requests per minute for every tenant.

## Example Usage

```terraform
# Return all service principals
data "microsoft365_graph_beta_applications_service_principal" "all" {
  filter_type = "all"
}

# Return a service principal by display name
data "microsoft365_graph_beta_applications_service_principal" "by_display_name" {
  filter_type  = "display_name"
  filter_value = "Microsoft Graph"
}

# Return a service principal by app id
data "microsoft365_graph_beta_applications_service_principal" "by_app_id" {
  filter_type  = "app_id"
  filter_value = "00000003-0000-0000-c000-000000000000" // Microsoft Graph PowerShell
}

# Return a service principal by odata filter
data "microsoft365_graph_beta_applications_service_principal" "odata_advanced" {
  filter_type  = "odata"
  odata_filter = "startsWith(displayName,'Microsoft')"
  odata_select = "id,appId,displayName,publisherName"
  odata_top    = 10
  odata_skip   = 0
}

# Return a service principal by odata filter with comprehensive options
data "microsoft365_graph_beta_applications_service_principal" "odata_comprehensive" {
  filter_type   = "odata"
  odata_filter  = "startsWith(displayName,'Microsoft')"
  odata_count   = true
  odata_orderby = "displayName"
  odata_search  = "\"displayName:Graph\""
  odata_select  = "id,appId,displayName,publisherName,servicePrincipalType"
  odata_top     = 5
  odata_skip    = 0
}

# Return a service principal by odata filter with matching display name
data "microsoft365_graph_beta_applications_service_principal" "odata_matching_display_name" {
  filter_type  = "odata"
  odata_search = "\"displayName:Intune\""
  odata_count  = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `filter_type` (String) Type of filter to apply. Valid values are: `all`, `id`, `app_id`, `display_name`, `odata`.

### Optional

- `filter_value` (String) Value to filter by. Not required when filter_type is 'all' or 'odata'.
- `odata_count` (Boolean) OData $count parameter to include count of total results. Only used when filter_type is 'odata'.
- `odata_expand` (String) OData $expand parameter to include related entities. Only used when filter_type is 'odata'.
- `odata_filter` (String) OData $filter parameter for filtering results. Only used when filter_type is 'odata'. Example: preferredSingleSignOnMode ne 'notSupported'.
- `odata_orderby` (String) OData $orderby parameter to sort results. Only used when filter_type is 'odata'. Example: displayName.
- `odata_search` (String) OData $search parameter for full-text search. Only used when filter_type is 'odata'.
- `odata_select` (String) OData $select parameter to specify which fields to include. Only used when filter_type is 'odata'.
- `odata_skip` (Number) OData $skip parameter for pagination. Only used when filter_type is 'odata'.
- `odata_top` (Number) OData $top parameter to limit the number of results. Only used when filter_type is 'odata'.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `items` (Attributes List) The list of service principals that match the filter criteria. (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `account_enabled` (Boolean) true if the service principal account is enabled; otherwise, false.
- `app_display_name` (String) The display name exposed by the associated application.
- `app_id` (String) The unique identifier for the associated application.
- `app_owner_organization_id` (String) Contains the tenant id where the application is registered.
- `app_role_assignment_required` (Boolean) Specifies whether users or other service principals need to be granted an app role assignment for this service principal before users can sign in or apps can get tokens.
- `application_template_id` (String) Unique identifier of the applicationTemplate that the servicePrincipal was created from.
- `created_date_time` (String) The date and time the service principal was created.
- `deleted_date_time` (String) The date and time the service principal was deleted.
- `disabled_by_microsoft_status` (String) Specifies whether Microsoft has disabled the registered application.
- `display_name` (String) The display name for the service principal.
- `error_url` (String) Deprecated. Do not use.
- `homepage` (String) Home page or landing page of the application.
- `id` (String) The unique identifier for the service principal.
- `info` (Attributes) Basic profile information of the acquired application such as app's marketing, support, terms of service and privacy statement URLs. (see [below for nested schema](#nestedatt--items--info))
- `login_url` (String) Specifies the URL where the service provider redirects the user to Azure AD to authenticate.
- `logout_url` (String) Specifies the URL that will be used by Microsoft's authorization service to logout an user using OpenId Connect front-channel, back-channel or SAML logout protocols.
- `notes` (String) Free text field to capture information about the service principal, typically used for operational purposes.
- `notification_email_addresses` (List of String) Specifies the list of email addresses where Azure AD sends a notification when the active certificate is near the expiration date.
- `preferred_single_sign_on_mode` (String) Specifies the single sign-on mode configured for this application.
- `preferred_token_signing_key_end_date_time` (String) Specifies the expiration date of the keyCredential used for token signing, marked by preferredTokenSigningKeyThumbprint.
- `preferred_token_signing_key_thumbprint` (String) Reserved for internal use only. Do not write or otherwise rely on this property.
- `publisher_name` (String) The display name of the tenant in which the associated application is registered.
- `reply_urls` (List of String) The URLs that user tokens are sent to for sign in with the associated application, or the redirect URIs that OAuth 2.0 authorization codes and access tokens are sent to for the associated application.
- `saml_metadata_url` (String) The URL where the service exposes SAML metadata for federation.
- `saml_single_sign_on_settings` (Attributes) The collection for settings related to saml single sign-on. (see [below for nested schema](#nestedatt--items--saml_single_sign_on_settings))
- `service_principal_names` (List of String) Contains the list of identifiersUris, copied over from the associated application.
- `service_principal_type` (String) Identifies if the service principal represents an Application, a ManagedIdentity, or a legacy application.
- `sign_in_audience` (String) Specifies the Microsoft accounts that are supported for the current application.
- `tags` (List of String) Custom strings that can be used to categorize and identify the service principal.
- `verified_publisher` (Attributes) Specifies the verified publisher of the application which this service principal represents. (see [below for nested schema](#nestedatt--items--verified_publisher))

<a id="nestedatt--items--info"></a>
### Nested Schema for `items.info`

Read-Only:

- `logo_url` (String) CDN URL to the application's logo.
- `marketing_url` (String) Link to the application's marketing page.
- `privacy_statement_url` (String) Link to the application's privacy statement.
- `support_url` (String) Link to the application's support page.
- `terms_of_service_url` (String) Link to the application's terms of service statement.


<a id="nestedatt--items--saml_single_sign_on_settings"></a>
### Nested Schema for `items.saml_single_sign_on_settings`

Read-Only:

- `relay_state` (String) The relative URI the service provider would redirect to after completion of the single sign-on flow.


<a id="nestedatt--items--verified_publisher"></a>
### Nested Schema for `items.verified_publisher`

Read-Only:

- `added_date_time` (String) The timestamp when the verified publisher was first added or most recently updated.
- `display_name` (String) The verified publisher name from the app publisher's Microsoft Partner Network (MPN) account.
- `verified_publisher_id` (String) The ID of the verified publisher from the app publisher's Partner Center account.