---
page_title: "microsoft365_graph_beta_windows_365_cloud_pc_device_image Data Source - terraform-provider-microsoft365"
subcategory: "Windows 365"
description: |-
  Retrieves Cloud PC device images from Microsoft Intune using the /deviceManagement/virtualEndpoint/deviceImages endpoint. This data source is used to query custom uploaded images for Cloud PC provisioning with status and version information.
---

# microsoft365_graph_beta_windows_365_cloud_pc_device_image (Data Source)

Retrieves Cloud PC Device Images from Microsoft Intune using the `/deviceManagement/virtualEndpoint/deviceImages` endpoint. Supports filtering by all, id, or display_name for advanced device image discovery and management.

## Microsoft Documentation

- [cloudPcDeviceImage resource type](https://learn.microsoft.com/en-us/graph/api/resources/cloudpcdeviceimage?view=graph-rest-beta)
- [List deviceImages API](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-list-deviceimages?view=graph-rest-beta)

## Microsoft Graph API Permissions

The following client `application` permissions are needed in order to use this data source:

**Required:**
- `CloudPC.Read.All`

**Optional:**
- `None` `[N/A]`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.18.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Example: Retrieve all Cloud PC Device Images

data "microsoft365_graph_beta_windows_365_cloud_pc_device_image" "all" {
  filter_type = "all"
}

# Output: List all device image IDs
output "all_device_image_ids" {
  value = [for image in data.microsoft365_graph_beta_windows_365_cloud_pc_device_image.all.items : image.id]
}

# Output: Show all details for the first device image (if present)
output "first_device_image_details" {
  value = data.microsoft365_graph_beta_windows_365_cloud_pc_device_image.all.items[0]
}

# Example: Retrieve a specific device image by ID
# Replace with a valid Device Image ID from your environment

data "microsoft365_graph_beta_windows_365_cloud_pc_device_image" "by_id" {
  filter_type  = "id"
  filter_value = "<device_image_id>" # Example: "MicrosoftWindowsDesktop_windows-ent-cpc_win11-22h2-ent-cpc-m365"
}

output "device_image_by_id" {
  value = data.microsoft365_graph_beta_windows_365_cloud_pc_device_image.by_id.items[0]
}

# Example: Retrieve device images by display name substring
# This will match images containing "Windows 11" in their display name

data "microsoft365_graph_beta_windows_365_cloud_pc_device_image" "by_display_name" {
  filter_type  = "display_name"
  filter_value = "Windows 11"
}

output "device_image_by_display_name" {
  value = data.microsoft365_graph_beta_windows_365_cloud_pc_device_image.by_display_name.items
}

# Output: Show available Windows 11 images with their status, expiration date, and OS version number
output "windows_11_images_summary" {
  value = [for image in data.microsoft365_graph_beta_windows_365_cloud_pc_device_image.by_display_name.items : {
    display_name      = image.display_name
    status            = image.status
    expiration_date   = image.expiration_date
    os_version_number = image.os_version_number
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `filter_type` (String) Type of filter to apply. Valid values are: `all`, `id`, `display_name`. Use 'all' to retrieve all Device Images, 'id' to retrieve a specific Device Image by its unique identifier, or 'display_name' to filter by name.

### Optional

- `filter_value` (String) Value to filter by. Not required when filter_type is 'all'. For 'id', provide the Device Image ID. For 'display_name', provide the name to match.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `items` (Attributes List) The list of Cloud PC Device Images that match the filter criteria. (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `display_name` (String) The display name of the Device Image.
- `error_code` (String) Error code if there was an issue with the Device Image.
- `expiration_date` (String) The expiration date of the Device Image.
- `id` (String) The unique identifier for the Device Image.
- `last_modified_date_time` (String) The date and time when the Device Image was last modified.
- `operating_system` (String) The operating system of the Device Image (e.g., 'Windows 10 Enterprise').
- `os_build_number` (String) The OS build number of the Device Image (e.g., '21H2').
- `os_status` (String) The OS support status (e.g., 'supported').
- `os_version_number` (String) The OS version number of the Device Image (e.g., '10.0.22631.3593').
- `source_image_resource_id` (String) The Azure resource ID of the source image.
- `status` (String) The current status of the Device Image (e.g., 'ready').
- `status_details` (String) Additional details about the status of the Device Image.
- `version` (String) The version of the Device Image. 