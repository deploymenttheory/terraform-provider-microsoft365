---
page_title: "microsoft365_graph_beta_multitenant_management_audit_event Ephemeral Resource - terraform-provider-microsoft365"
subcategory: "Multitenant Management"

description: |-
  Retrieves audit events from Microsoft 365 managed tenants as an ephemeral resource. This does not persist in state and fetches fresh data on each execution.
---

# microsoft365_graph_beta_multitenant_management_audit_event (Ephemeral Resource)

Retrieves audit events from Microsoft 365 managed tenants as an ephemeral resource. This does not persist in state and fetches fresh data on each execution.

## Microsoft Documentation

- [auditEvent resource type](https://learn.microsoft.com/en-us/graph/api/resources/managedtenants-auditevent?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this data source.

### Microsoft Graph

- **Application**: `ManagedTenants.Read.All`, `ManagedTenants.ReadWrite.All`.

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.31.0-alpha | Experimental | Initial release |

## Important Notes
This method supports some of the OData query parameters to help customize the response. For general information, see OData query parameters.
## Example Usage

```terraform
# Example 1: Get all audit events
ephemeral "microsoft365_multitenant_management_audit_events" "all_events" {
  filter_type = "all"
}

# Example 2: Get a specific audit event by ID
ephemeral "microsoft365_multitenant_management_audit_events" "specific_event" {
  filter_type  = "id"
  filter_value = "12345678-1234-1234-1234-123456789abc"
}

# Example 3: Filter audit events by activity display name
ephemeral "microsoft365_multitenant_management_audit_events" "activity_filter" {
  filter_type  = "display_name"
  filter_value = "sign-in"
}

# Example 4: Use OData filtering for recent events
ephemeral "microsoft365_multitenant_management_audit_events" "recent_events" {
  filter_type   = "odata"
  odata_filter  = "activityDateTime ge 2024-01-01T00:00:00Z"
  odata_top     = 100
  odata_orderby = "activityDateTime desc"
}

# Example 5: OData filtering with specific categories and pagination
ephemeral "microsoft365_multitenant_management_audit_events" "categorized_events" {
  filter_type   = "odata"
  odata_filter  = "category eq 'ApplicationManagement' or category eq 'UserManagement'"
  odata_top     = 50
  odata_skip    = 0
  odata_select  = "id,activity,category,activityDateTime,initiatedByUpn"
  odata_orderby = "activityDateTime desc"
}

# Example 6: Filter by specific user activities
ephemeral "microsoft365_multitenant_management_audit_events" "user_events" {
  filter_type  = "odata"
  odata_filter = "initiatedByUpn eq 'admin@contoso.com'"
  odata_top    = 25
}

# Output examples to demonstrate accessing the data
output "all_events_count" {
  description = "Total number of audit events"
  value       = length(ephemeral.microsoft365_multitenant_management_audit_events.all_events.items)
}

output "recent_event_activities" {
  description = "Activities from recent events"
  value = [
    for event in ephemeral.microsoft365_multitenant_management_audit_events.recent_events.items : {
      activity = event.activity
      datetime = event.activity_date_time
      user     = event.initiated_by_upn
    }
  ]
}

output "specific_event_details" {
  description = "Details of the specific event"
  value = length(ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items) > 0 ? {
    id       = ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items[0].id
    activity = ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items[0].activity
    category = ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items[0].category
    datetime = ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items[0].activity_date_time
    user     = ephemeral.microsoft365_multitenant_management_audit_events.specific_event.items[0].initiated_by_upn
  } : null
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `filter_type` (String) Type of filter to apply. Valid values are: `all`, `id`, `display_name`, `odata`.

### Optional

- `filter_value` (String) Value to filter by. Not required when filter_type is 'all'.
- `odata_filter` (String) OData $filter parameter for filtering results. Only used when filter_type is 'odata'.
- `odata_orderby` (String) OData $orderby parameter to sort results. Only used when filter_type is 'odata'.
- `odata_select` (String) OData $select parameter to specify which fields to include. Only used when filter_type is 'odata'.
- `odata_skip` (Number) OData $skip parameter for pagination. Only used when filter_type is 'odata'.
- `odata_top` (Number) OData $top parameter to limit the number of results. Only used when filter_type is 'odata'.

### Read-Only

- `items` (Attributes List) The list of audit events that match the filter criteria. (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `activity` (String) A string that describes the activity that was performed.
- `activity_date_time` (String) The date and time when the activity was performed.
- `activity_id` (String) The identifier of the activity request that made the audit event.
- `category` (String) A category that represents a logical grouping of activities.
- `http_verb` (String) The HTTP verb that was used when making the API request.
- `id` (String) Unique identifier for the audit event.
- `initiated_by_app_id` (String) The identifier for the app that was used to make the request.
- `initiated_by_upn` (String) The UPN of the user who initiated the activity.
- `initiated_by_user_id` (String) The identifier for the user who initiated the activity.
- `ip_address` (String) The IP address of where the activity was initiated. This may be an IPv4 or IPv6 address.
- `request_id` (String) The identifier of the request that made the audit event.
- `request_url` (String) The URL of the request that made the audit event.
- `tenant_ids` (String) The Azure Active Directory tenant identifier for the managed tenant that was affected by this event.
- `tenant_names` (String) The tenant name that was affected by this event.