---
page_title: "microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential Resource - terraform-provider-microsoft365"
subcategory: "Agents"

description: |-
  Manages a password credential for an Agent Identity Blueprint using the /applications endpoint. This resource is used to adds a strong password to an agentIdentityBlueprint using the addPassword https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-addpassword?view=graph-rest-beta API.
  Important: The secret_text attribute contains the password and is only available at creation time. It cannot be retrieved after initial creation. Store this value securely.
  Note: This resource does not support import because the password cannot be retrieved from the API after creation..
---

# microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential (Resource)

Manages a password credential for an Agent Identity Blueprint using the `/applications` endpoint. This resource is used to adds a strong password to an agentIdentityBlueprint using the [addPassword](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-addpassword?view=graph-rest-beta) API.

**Important:** The `secret_text` attribute contains the password and is only available at creation time. It cannot be retrieved after initial creation. Store this value securely.

**Note:** This resource does not support import because the password cannot be retrieved from the API after creation..

## Microsoft Documentation

- [passwordCredential resource type](https://learn.microsoft.com/en-us/graph/api/resources/passwordcredential?view=graph-rest-beta)
- [addPassword](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-addpassword?view=graph-rest-beta&tabs=http)
- [removePassword](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-removepassword?view=graph-rest-beta&tabs=http)

## Microsoft Graph API Permissions

The following client `application` permissions are needed in order to use this resource:

**Required:**
- `AgentIdentityBlueprint.Read.All`
- `Application.Read.All`
- `Directory.Read.All`
- `AgentIdentityBlueprint.AddRemoveCreds.All`
- `AgentIdentityBlueprint.ReadWrite.All`
- `Directory.ReadWrite.All`

**Optional:**
- `None` `[N/A]`

Find out more about the permissions required for managing agent identities at microsoft learn [here](https://learn.microsoft.com/en-us/graph/api/resources/agentid-platform-overview?view=graph-rest-beta#permissions-for-managing-agent-identities).

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.38.0 | Experimental | Initial release |

## Important Notes

- **The `secret_text` attribute is only available at creation time.** Store this value securely immediately after creation as it cannot be retrieved from the API later.
- This resource does not support import because the password cannot be retrieved from the API after creation.
- When the resource is updated, the existing password is removed and a new one is created. This means the `secret_text` will change on every update.
- The generated password is 16-64 characters long and is generated by Microsoft Entra ID.
- Maximum password credential validity is 2 years from the start date if no end date is specified.

## Example Usage

### Basic Password Credential

```terraform
# Example: Create a password credential for an Agent Identity Blueprint

# First, create or reference an existing agent identity blueprint
resource "microsoft365_graph_beta_agents_agent_identity_blueprint" "example" {
  display_name     = "my-agent-blueprint"
  sponsor_user_ids = ["00000000-0000-0000-0000-000000000000"]
  owner_user_ids   = ["00000000-0000-0000-0000-000000000000"]
  description      = "Agent identity blueprint for automated workflows"
  hard_delete      = true
}

# Create a password credential for the blueprint
resource "microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential" "example" {
  blueprint_id = microsoft365_graph_beta_agents_agent_identity_blueprint.example.id
  display_name = "api-access-credential"
}

# IMPORTANT: Store the secret securely - it is only available at creation time
# You can use a secrets manager or output to a secure location
output "client_secret" {
  value       = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.secret_text
  description = "The generated client secret - store this securely!"
  sensitive   = true
}

output "key_id" {
  value       = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.key_id
  description = "The key ID of the password credential"
}
```

### Password Credential with Custom Validity Period

```terraform
# Example: Create a password credential with custom validity period

# First, create or reference an existing agent identity blueprint
resource "microsoft365_graph_beta_agents_agent_identity_blueprint" "example" {
  display_name     = "my-agent-blueprint"
  sponsor_user_ids = ["00000000-0000-0000-0000-000000000000"]
  owner_user_ids   = ["00000000-0000-0000-0000-000000000000"]
  description      = "Agent identity blueprint for automated workflows"
  hard_delete      = true
}

# Create a password credential with specific start and end dates
resource "microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential" "example" {
  blueprint_id    = microsoft365_graph_beta_agents_agent_identity_blueprint.example.id
  display_name    = "short-lived-credential"
  start_date_time = "2025-01-01T00:00:00Z"
  end_date_time   = "2025-06-30T23:59:59Z" # 6 month validity
}

# IMPORTANT: Store the secret securely - it is only available at creation time
output "client_secret" {
  value       = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.secret_text
  description = "The generated client secret - store this securely!"
  sensitive   = true
}

output "credential_info" {
  value = {
    key_id          = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.key_id
    hint            = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.hint
    start_date_time = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.start_date_time
    end_date_time   = microsoft365_graph_beta_agents_agent_identity_blueprint_password_credential.example.end_date_time
  }
  description = "Password credential metadata"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `blueprint_id` (String) The unique identifier (Object ID) of the agent identity blueprint to add the password credential to. Required.

### Optional

- `display_name` (String) Friendly name for the password credential. This helps identify the purpose of the credential. Optional but recommended.
- `end_date_time` (String) The date and time at which the password expires represented using ISO 8601 format and is always in UTC time. For example, midnight UTC on Jan 1, 2026 is 2026-01-01T00:00:00Z. Optional. The default value is `startDateTime + 2 years`.
- `start_date_time` (String) The date and time at which the password becomes valid. The Timestamp type represents date and time information using ISO 8601 format and is always in UTC time. For example, midnight UTC on Jan 1, 2014 is 2014-01-01T00:00:00Z. Optional. The default value is 'now'.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `custom_key_identifier` (String) A custom key identifier for the password credential. Read-only.
- `hint` (String) A hint for the password (typically the first few characters). Read-only.
- `key_id` (String) The unique identifier for the password credential. This is generated by Microsoft Entra ID and used to reference the credential for removal. Read-only.
- `secret_text` (String, Sensitive) The strong password generated by Microsoft Entra ID (16-64 characters). **Important:** This value is only available at creation time and cannot be retrieved later. Store it securely.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

~> **Note:** Import is NOT supported for this resource because the `secret_text` value is only available at creation time and cannot be retrieved from the API.

