---
page_title: "microsoft365_graph_beta_groups_group_lifecycle_expiration_policy Resource - terraform-provider-microsoft365"
subcategory: "Groups"
description: |-
    Manages group lifecycle policies for Microsoft 365 groups using the /groupLifecyclePolicies endpoint. This resource enables administrators to set expiration periods for groups, requiring owners to renew them within specified time intervals. When a group reaches its expiration, it can be renewed to extend the expiration date, or if not renewed, it expires and is deleted with a 30-day restoration window. Renewal notifications are emailed to group owners 30 days, 15 days, and one day prior to group expiration. Group owners must have Exchange licenses to receive notification emails. If a group is not renewed, it is deleted along with its associated content from sources such as Outlook, SharePoint, Teams, and Power BI.
---

# microsoft365_graph_beta_groups_group_lifecycle_expiration_policy (Resource)

Manages group lifecycle policies for Microsoft 365 groups using the `/groupLifecyclePolicies` endpoint. This resource enables administrators to set expiration periods for groups, requiring owners to renew them within specified time intervals. When a group reaches its expiration, it can be renewed to extend the expiration date, or if not renewed, it expires and is deleted with a 30-day restoration window. Renewal notifications are emailed to group owners 30 days, 15 days, and one day prior to group expiration. Group owners must have Exchange licenses to receive notification emails. If a group is not renewed, it is deleted along with its associated content from sources such as Outlook, SharePoint, Teams, and Power BI.

## Microsoft Documentation

- [Group lifecycle policy resource type](https://learn.microsoft.com/en-us/graph/api/resources/grouplifecyclepolicy?view=graph-rest-beta)
- [Create groupLifecyclePolicy](https://learn.microsoft.com/en-us/graph/api/group-post-grouplifecyclepolicies?view=graph-rest-beta)
- [Update groupLifecyclePolicy](https://learn.microsoft.com/en-us/graph/api/group-update-grouplifecyclepolicy?view=graph-rest-beta)
- [Delete groupLifecyclePolicy](https://learn.microsoft.com/en-us/graph/api/group-delete-grouplifecyclepolicy?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `Group.ReadWrite.All`, `Directory.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.18.0-alpha | Experimental | Initial release |
| v0.37.0-alpha | Preview | changed name to graph_beta_groups_group_lifecycle_expiration_policy and added full test harness|

## Example Usage

```terraform
resource "microsoft365_graph_beta_groups_group_lifecycle_expiration_policy" "example" {
  group_lifetime_in_days        = 365
  managed_group_types           = "All" // All, Selected, None
  alternate_notification_emails = "admin@deploymenttheory.com;notifications@deploymenttheory.com"
  overwrite_existing_policy     = false // Optional: Overwrite existing policy, defaults to false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `alternate_notification_emails` (String) List of email address to send notifications for groups without owners. Multiple email address can be defined by separating email address with a semicolon.
- `group_lifetime_in_days` (Number) Number of days before a group expires and needs to be renewed. Once renewed, the group expiration is extended by the number of days defined. Minimum value is 30 days, maximum is 99999 days.
- `managed_group_types` (String) The group type for which the expiration policy applies. Possible values are **All**, **Selected** or **None**.

### Optional

- `overwrite_existing_policy` (Boolean) When set to `true`, Terraform will overwrite the existing tenant-wide group lifecycle expiration policy with the configuration specified in this resource. This is useful for first-time adoption when a policy already exists. Since only one lifecycle expiration policy is allowed per tenant, setting this to `true` forces a PATCH operation to replace the existing policy settings. Defaults to `false`, which attempts to create (POST) a new policy first.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) A unique identifier for a policy. Read-only.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Lifecycle Policies**: Used to manage the lifecycle of Microsoft 365 groups, including expiration and renewal.
- **Notification Recipients**: The `alternate_notification_emails` attribute allows specifying additional recipients for expiration notifications.
- **Policy Scope**: Policies can be applied to all groups or a subset using `group_lifetime_in_days` and `managed_group_types`.
- **Renewal**: Groups can be renewed via API or user action if they are about to expire.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# Import scripts for Microsoft 365 Group Lifecycle Policy
# Replace {policy_id} with the actual policy ID from your Microsoft 365 tenant

# Import the default policy
terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.default_policy {default_policy_id}

# Import the project groups policy
terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.project_groups_policy {project_policy_id}

# Import the department groups policy
terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.department_groups_policy {department_policy_id}

# Import the disabled policy
terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.disabled_policy {disabled_policy_id}

# Import the compliance policy
terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.compliance_policy {compliance_policy_id}

# Note: You can import individual policies as needed. Not all policies need to be imported.
# To find policy IDs, you can use Microsoft Graph API or PowerShell:
# Get-MgGroupLifecyclePolicy
``` 