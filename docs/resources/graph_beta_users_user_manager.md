---
page_title: "microsoft365_graph_beta_users_user_manager Resource - terraform-provider-microsoft365"
subcategory: "Users"
description: |-
  Manages the manager relationship for a user in Microsoft Entra ID using the Microsoft Graph Beta API.
---

# microsoft365_graph_beta_users_user_manager (Resource)

Manages the manager relationship for a user in Microsoft Entra ID using the Microsoft Graph Beta API.

## Microsoft Documentation

- [List manager](https://learn.microsoft.com/en-us/graph/api/user-list-manager?view=graph-rest-beta)
- [Assign manager](https://learn.microsoft.com/en-us/graph/api/user-post-manager?view=graph-rest-beta)
- [Remove manager](https://learn.microsoft.com/en-us/graph/api/user-delete-manager?view=graph-rest-beta)

## Microsoft Graph API Permissions

The following client `application` permissions are needed in order to use this resource:

**Required:**
- `User.ReadWrite.All`

**Optional:**
- `None` `[N/A]`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.38.0-alpha | Experimental | Initial release |

## Example Usage

### Minimal Example

```terraform
# Minimal example - assign a manager to a user using existing user IDs
resource "microsoft365_graph_beta_users_user_manager" "example" {
  user_id    = "00000000-0000-0000-0000-000000000001" # The employee
  manager_id = "00000000-0000-0000-0000-000000000002" # The manager
}
```

### Dependency Chain Example

```terraform
# Dependency chain example - create users and assign manager relationship

# Create the manager user
resource "microsoft365_graph_beta_users_user" "manager" {
  display_name        = "Jane Smith"
  account_enabled     = true
  user_principal_name = "jane.smith@contoso.com"
  mail_nickname       = "janesmith"
  hard_delete         = true
  password_profile = {
    password                           = "SecurePassword123!"
    force_change_password_next_sign_in = true
  }
}

# Create the employee user
resource "microsoft365_graph_beta_users_user" "employee" {
  display_name        = "John Doe"
  account_enabled     = true
  user_principal_name = "john.doe@contoso.com"
  mail_nickname       = "johndoe"
  hard_delete         = true
  password_profile = {
    password                           = "SecurePassword123!"
    force_change_password_next_sign_in = true
  }
}

# Assign the manager to the employee
resource "microsoft365_graph_beta_users_user_manager" "employee_manager" {
  user_id    = microsoft365_graph_beta_users_user.employee.id
  manager_id = microsoft365_graph_beta_users_user.manager.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `manager_id` (String) The unique identifier (GUID) of the user or organizational contact to assign as the manager.
- `user_id` (String) The unique identifier (GUID) of the user whose manager is being managed.

### Optional

- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier for this user manager relationship. This is the same as user_id.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **User Must Exist**: Both the user and the manager must exist before assigning the manager relationship.
- **One Manager Per User**: A user can only have one direct manager at a time. Setting a new manager will replace the existing one.
- **Circular References**: The API prevents circular manager relationships (e.g., A manages B, B manages A).
- **Update Behavior**: Updating the `manager_id` will remove the old manager and assign the new one.
- **Delete Behavior**: Deleting this resource removes the manager relationship but does not delete either user.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# Import an existing user manager relationship into Terraform
# The import ID is the user_id (the user whose manager is being managed)

terraform import microsoft365_graph_beta_users_user_manager.example 00000000-0000-0000-0000-000000000000
```

