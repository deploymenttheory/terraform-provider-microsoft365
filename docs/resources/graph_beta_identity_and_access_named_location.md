---
page_title: "microsoft365_graph_beta_identity_and_access_named_location Resource - terraform-provider-microsoft365"
subcategory: "Identity and Access"
description: |-
  Manages Microsoft 365 Named Locations using the /identity/conditionalAccess/namedLocations endpoint. Named Locations define network locations that can be used in Conditional Access policies. Supports both IP-based and country-based named locations.
---

# microsoft365_graph_beta_identity_and_access_named_location (Resource)

Manages Microsoft 365 Named Locations using the `/identity/conditionalAccess/namedLocations` endpoint. Named Locations define network locations that can be used in Conditional Access policies. Supports both IP-based and country-based named locations.

## Microsoft Documentation

- [namedLocation resource type](https://learn.microsoft.com/en-us/graph/api/resources/namedlocation?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `Policy.ReadWrite.ConditionalAccess`, `Policy.Read.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.28.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_identity_and_access_named_location" "ipv6_only" {
  display_name = "example ipv6 named location"
  is_trusted   = true

  ipv6_ranges = [
    "2001:db8::/32",
    "fe80::/10"
  ]
}

resource "microsoft365_graph_beta_identity_and_access_named_location" "ipv4_only" {
  display_name = "example ipv4 named location"
  is_trusted   = false

  ipv4_ranges = [
    "192.168.1.0/24"
  ]
}

resource "microsoft365_graph_beta_identity_and_access_named_location" "ip_ranges" {
  display_name = "example ip ranges named location"
  is_trusted   = true

  ipv4_ranges = [
    "192.168.0.0/16",
    "172.16.0.0/12"
  ]

  ipv6_ranges = [
    "2001:db8::/32",
    "fe80::/10",
    "2001:4860:4860::/48"
  ]
}

resource "microsoft365_graph_beta_identity_and_access_named_location" "country_client_ip" {
  display_name                          = "example country client ip named location"
  country_lookup_method                 = "clientIpAddress"
  include_unknown_countries_and_regions = false

  countries_and_regions = [
    "US",
    "CA",
    "GB"
  ]
}

resource "microsoft365_graph_beta_identity_and_access_named_location" "country_authenticator_gps" {
  display_name                          = "example country authenticator gps named location"
  country_lookup_method                 = "authenticatorAppGps"
  include_unknown_countries_and_regions = true

  countries_and_regions = [
    "AD",
    "AO",
    "AI",
    "AQ"
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name for the Named Location.

### Optional

- `countries_and_regions` (Set of String) Set of countries and/or regions in two-letter format specified by ISO 3166-2 (e.g., 'US', 'GB', 'CA'). Used for country named locations only.
- `country_lookup_method` (String) Provides the method used to decide which country the user is located in. Possible values are `clientIpAddress` and `authenticatorAppGps`. Used for country named locations only.
- `include_unknown_countries_and_regions` (Boolean) True if IP addresses that don't map to a country or region should be included in the named location. Used for country named locations only.
- `ipv4_ranges` (Set of String) Set of IPv4 CIDR ranges that define this IP named location. Each range should be specified in CIDR notation (e.g., '192.168.1.0/24'). Used for IP named locations only.
- `ipv6_ranges` (Set of String) Set of IPv6 CIDR ranges that define this IP named location. Each range should be specified in CIDR notation (e.g., '2001:db8::/32'). Used for IP named locations only.
- `is_trusted` (Boolean) Indicates whether the IP named location is trusted. Only applies to IP named locations.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_date_time` (String) The creation date and time of the named location.
- `id` (String) String (identifier)
- `modified_date_time` (String) The last modified date and time of the named location.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

Represents a Microsoft Entra ID named location defined by countries and regions. Named locations are custom rules that define network locations which can then be used in a Conditional Access policy.
Represents a Microsoft Entra ID named location defined by IP ranges. Named locations are custom rules that define network locations that can then be used in a Conditional Access policy.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash
# Import using composite ID format: {id}
terraform import microsoft365_graph_beta_identity_and_access_named_location.example 00000000-0000-0000-0000-000000000000
``` 