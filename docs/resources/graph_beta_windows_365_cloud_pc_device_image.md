---
page_title: "microsoft365_graph_beta_windows_365_cloud_pc_device_image Resource - terraform-provider-microsoft365"
subcategory: "Windows 365"

description: |-
    Manages a Windows 365 Cloud PC Device Image using the Microsoft Graph Beta API.
---

# microsoft365_graph_beta_windows_365_cloud_pc_device_image (Resource)

Manages a Windows 365 Cloud PC Device Image using the Microsoft Graph Beta API.

## Microsoft Documentation

- [cloudPcDeviceImage resource type](https://learn.microsoft.com/en-us/graph/api/resources/cloudpcdeviceimage?view=graph-rest-beta)
- [Create cloudPcDeviceImage](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-post-deviceimages?view=graph-rest-beta)
- [Update cloudPcDeviceImage](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-update-deviceimages?view=graph-rest-beta)
- [Delete cloudPcDeviceImage](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-delete-deviceimages?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `CloudPC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.19.1-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_windows_365_cloud_pc_device_image" "example" {
  # This resource is read-only. Device images are created by uploading images via the Microsoft Endpoint Manager or other supported methods.
  # You can import an existing device image using its ID.
  display_name = "My Custom Cloud PC Image"
  version      = "1.0.0"
  # Must match the Azure image resource ID format:
  # /subscriptions/{subscription-id}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/images/{imageName}
  source_image_resource_id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Compute/images/myimage"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of this image.
- `source_image_resource_id` (String) The ID of the source image resource on Azure. The required ID format is: "/subscriptions/{subscription-id}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/images/{imageName}".
- `version` (String) The image version. For example, 0.0.1 and 1.5.13.

### Optional

- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `error_code` (String) The error code of the status of the image that indicates why the upload failed, if applicable. Possible values are: internalServerError, sourceImageNotFound, osVersionNotSupported, sourceImageInvalid, sourceImageNotGeneralized, unknownFutureValue, vmAlreadyAzureAdJoined, paidSourceImageNotSupport, sourceImageNotSupportCustomizeVMName, sourceImageSizeExceedsLimitation, sourceImageWithDataDiskNotSupported, sourceImageWithDiskEncryptionSetNotSupported. Read-only.
- `expiration_date` (String) The date when the image became unavailable. Read-only.
- `id` (String) The unique identifier (ID) of the image resource on the Cloud PC. Read-only.
- `last_modified_date_time` (String) The data and time when the image was last modified. The timestamp represents date and time information using ISO 8601 format and is always in UTC. For example, midnight UTC on Jan 1, 2014 is 2014-01-01T00:00:00Z. Read-only.
- `operating_system` (String) The operating system of the image. For example, Windows 10 Enterprise. Read-only.
- `os_build_number` (String) The OS build version of the image. For example, 1909. Read-only.
- `os_status` (String) The OS status of this image. Possible values are: supported, supportedWithWarning, unknown, unknownFutureValue. The default value is unknown. Read-only.
- `os_version_number` (String) The operating system version of this image. For example, 10.0.22000.296. Read-only.
- `status` (String) The status of the image on the Cloud PC. Possible values are: pending, ready, warning, failed, unknownFutureValue. Read-only.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Required Properties**: The minimum required properties to create a device image are `display_name`, `version`, and `source_image_resource_id`.
- **Azure Image Resource ID Format**: The `source_image_resource_id` must match the Azure resource ID format: `/subscriptions/{subscription-id}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/images/{imageName}`.
- **Version**: The `version` property should be a string such as `1.0.0` or `0.0.1`.
- **Image Upload**: The image must already exist in your Azure subscription as a managed image before it can be registered as a Cloud PC device image.
- **API Version**: This resource uses the Microsoft Graph Beta API and may be subject to change.
- **Immutability**: Some properties cannot be changed after creation or are managed by the system.

## Import

Import is supported using the following syntax:

```shell
#!/bin/sh

# Replace with the actual ID of your Cloud PC device image (visible after creation in the Azure portal or via API)
terraform import microsoft365_graph_beta_windows_365_cloud_pc_device_image.example 00000000-0000-0000-0000-000000000000
``` 