---
page_title: "microsoft365_graph_device_and_app_management_cloud_pc_device_image Resource - terraform-provider-microsoft365"
subcategory: "Cloud PC"
description: |-
  
---

# microsoft365_graph_device_and_app_management_cloud_pc_device_image (Resource)



## Microsoft Documentation

- [cloudPcDeviceImage resource type](https://learn.microsoft.com/en-us/graph/api/resources/cloudpcdeviceimage?view=graph-rest-1.0)
- [Create cloudPcDeviceImage](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-post-deviceimages?view=graph-rest-1.0)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `CloudPC.ReadWrite.All`

## Example Usage

```terraform
resource "microsoft365_device_and_app_management_cloud_pc_device_image" "example" {
  display_name             = "My Custom Device Image"
  source_image_resource_id = "/subscriptions/your-subscription-id/resourceGroups/your-resource-group/providers/Microsoft.Compute/images/your-image-name"
  version                  = "1.0.0"

  lifecycle {
    ignore_changes = [
      error_code,
      expiration_date,
      last_modified_date_time,
      operating_system,
      os_build_number,
      os_status,
      status
    ]
  }

  # Optional: Define custom timeouts
  timeouts = {
    create = "30m"
    read   = "10m"
    update = "30m"
    delete = "30m"
  }
}

# Resource: Create a new Cloud PC Device Image
resource "microsoft365_device_and_app_management_cloud_pc_device_image" "example" {
  display_name             = "My Custom Device Image"
  source_image_resource_id = "/subscriptions/your-subscription-id/resourceGroups/your-resource-group/providers/Microsoft.Compute/images/your-image-name"
  version                  = "1.0.0"

  lifecycle {
    ignore_changes = [
      error_code,
      expiration_date,
      last_modified_date_time,
      operating_system,
      os_build_number,
      os_status,
      status
    ]
  }

  # Optional: Define custom timeouts
  timeouts = {
    create = "30m"
    read   = "10m"
    update = "30m"
    delete = "30m"
  }
}

# Data Source: Retrieve an existing Cloud PC Device Image
data "microsoft365_cloud_pc_device_image" "existing" {
  id = microsoft365_cloud_pc_device_image.example.id

  timeouts = {
    read = "30s"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the associated device image. The device image display name and the version are used to uniquely identify the Cloud PC device image.
- `source_image_resource_id` (String) The unique identifier (ID) of the source image resource on Azure. The required ID format is: /subscriptions/{subscription-id}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/images/{imageName}.
- `version` (String) The image version. For example, 0.0.1 and 1.5.13.

### Optional

- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `error_code` (String) The error code of the status of the image that indicates why the upload failed, if applicable. Possible values are: internalServerError, sourceImageNotFound, osVersionNotSupported, sourceImageInvalid, sourceImageNotGeneralized, unknownFutureValue, vmAlreadyAzureAdJoined, paidSourceImageNotSupport, sourceImageNotSupportCustomizeVMName, sourceImageSizeExceedsLimitation. Note that you must use the Prefer: include-unknown-enum-members request header to get the following values from this evolvable enum: vmAlreadyAzureAdJoined, paidSourceImageNotSupport, sourceImageNotSupportCustomizeVMName, sourceImageSizeExceedsLimitation. Read-only.
- `expiration_date` (String) The date when the image became unavailable. Read-only.
- `id` (String) The unique identifier (ID) of the image resource on the Cloud PC. Read-only.
- `last_modified_date_time` (String) The date and time when the image was last modified. The timestamp represents date and time information using ISO 8601 format and is always in UTC. For example, midnight UTC on Jan 1, 2014 is 2014-01-01T00:00:00Z. Read-only.
- `operating_system` (String) The operating system (OS) of the image. For example, Windows 10 Enterprise. Read-only.
- `os_build_number` (String) The OS build version of the image. For example, 1909. Read-only.
- `os_status` (String) The OS status of this image. Possible values are: supported, supportedWithWarning, unknown, unknownFutureValue. The default value is unknown. Read-only.
- `status` (String) The status of the image on the Cloud PC. Possible values are: pending, ready, failed, unknownFutureValue. Read-only.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Windows 365 Cloud PC**: This resource manages custom device images for Windows 365 Cloud PC provisioning.
- **Custom Images**: Device images are custom Windows configurations that can be used as templates for new Cloud PCs.
- **Image Source**: Images can be created from existing Azure VMs or uploaded as VHD files.
- **Operating System Support**: Supports Windows 10 and Windows 11 Enterprise editions optimized for Cloud PC.
- **Image Status**: Monitor image status through provisioning, ready, and failed states.
- **Regional Availability**: Images may be replicated to multiple Azure regions for performance optimization.
- **Size Limitations**: Device images have size and storage limitations based on subscription and service limits.
- **Licensing Requirements**: Requires appropriate Windows 365 licensing and Azure subscriptions.

## Import

Import is supported using the following syntax:

```shell
# {resource_id}
terraform import microsoft365_graph_device_and_app_management_cloud_pc_device_image.example cloud-pc-device-image-id
```