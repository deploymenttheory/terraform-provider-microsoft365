---
page_title: "microsoft365_graph_beta_device_management_macos_software_update_configuration Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages macOS software update configurations using the /deviceManagement/deviceConfigurations endpoint. See macOSSoftwareUpdateConfiguration resource type https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-macossoftwareupdateconfiguration?view=graph-rest-beta for details.
---

# microsoft365_graph_beta_device_management_macos_software_update_configuration (Resource)

Manages macOS software update configurations using the `/deviceManagement/deviceConfigurations` endpoint. See [macOSSoftwareUpdateConfiguration resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-macossoftwareupdateconfiguration?view=graph-rest-beta) for details.

## Microsoft Documentation

- [List macOSSoftwareUpdateConfigurations](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-macossoftwareupdateconfiguration-list?view=graph-rest-beta)
- [Get macOSSoftwareUpdateConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-macossoftwareupdateconfiguration-get?view=graph-rest-beta)
- [Create macOSSoftwareUpdateConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-macossoftwareupdateconfiguration-create?view=graph-rest-beta)
- [Update macOSSoftwareUpdateConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-macossoftwareupdateconfiguration-update?view=graph-rest-beta)
- [Delete macOSSoftwareUpdateConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-macossoftwareupdateconfiguration-delete?view=graph-rest-beta)
## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status        | Notes           |
|---------|--------------|-----------------|
| v0.16.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_management_macos_software_update_configuration" "example" {
  display_name                             = "Example macOS Software Update Configuration"
  description                              = "Example configuration for macOS software updates"
  critical_update_behavior                 = "default"
  config_data_update_behavior              = "default"
  firmware_update_behavior                 = "default"
  all_other_update_behavior                = "default"
  update_schedule_type                     = "alwaysUpdate"
  update_time_window_utc_offset_in_minutes = 0
  max_user_deferrals_count                 = 0
  priority                                 = "low"

  custom_update_time_windows = [
    {
      start_day  = "monday"
      end_day    = "monday"
      start_time = "01:00:00"
      end_time   = "02:00:00"
    },
    {
      start_day  = "friday"
      end_day    = "friday"
      start_time = "03:00:00"
      end_time   = "04:00:00"
    }
  ]

  assignments = {
    all_devices       = true
    all_users         = false
    include_group_ids = ["00000000-0000-0000-0000-000000000001", "00000000-0000-0000-0000-000000000002"]
    exclude_group_ids = ["00000000-0000-0000-0000-000000000003"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `all_other_update_behavior` (String) Update behavior for all other updates. Possible values: `notConfigured`, `default`, `downloadOnly`, `installASAP`, `notifyOnly`, `installLater`.
- `assignments` (Attributes) Assignment configuration for the macOS software update configuration. (see [below for nested schema](#nestedatt--assignments))
- `config_data_update_behavior` (String) Update behavior for configuration data file updates. Possible values: `notConfigured`, `default`, `downloadOnly`, `installASAP`, `notifyOnly`, `installLater`.
- `critical_update_behavior` (String) Update behavior for critical updates. Possible values: `notConfigured`, `default`, `downloadOnly`, `installASAP`, `notifyOnly`, `installLater`. See [macOSSoftwareUpdateBehavior](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-macossoftwareupdatebehavior?view=graph-rest-beta).
- `display_name` (String) The display name of the macOS software update configuration
- `firmware_update_behavior` (String) Update behavior for firmware updates. Possible values: `notConfigured`, `default`, `downloadOnly`, `installASAP`, `notifyOnly`, `installLater`.
- `update_schedule_type` (String) Update schedule type. Possible values: `alwaysUpdate`, `updateDuringTimeWindows`, `updateOutsideOfTimeWindows`. See [macOSSoftwareUpdateScheduleType](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-macossoftwareupdatescheduletype?view=graph-rest-beta).
- `update_time_window_utc_offset_in_minutes` (Number) Minutes indicating UTC offset for each update time window.

### Optional

- `custom_update_time_windows` (Attributes List) Custom time windows when updates will be allowed or blocked. Maximum 20 elements. See [customUpdateTimeWindow](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-customupdatetimewindow?view=graph-rest-beta). (see [below for nested schema](#nestedatt--custom_update_time_windows))
- `description` (String) Admin provided description of the device configuration.
- `max_user_deferrals_count` (Number) The maximum number of times the system allows the user to postpone an update before it's installed. Supported values: 0 - 365.
- `priority` (String) The scheduling priority for downloading and preparing the requested update. Possible values: `low`, `high`, `unknownFutureValue`. See [macOSPriority](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-macospriority?view=graph-rest-beta).
- `role_scope_tag_ids` (Set of String) List of Scope Tags for this Entity instance.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier of the macOS software update configuration.

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `all_devices` (Boolean) Whether to assign the configuration to all devices.
- `all_users` (Boolean) Whether to assign the configuration to all users.

Optional:

- `exclude_group_ids` (Set of String) List of group IDs to exclude from the assignment.
- `include_group_ids` (Set of String) List of group IDs to include in the assignment.


<a id="nestedatt--custom_update_time_windows"></a>
### Nested Schema for `custom_update_time_windows`

Required:

- `end_day` (String) End day of the time window. Possible values: `sunday`, `monday`, `tuesday`, `wednesday`, `thursday`, `friday`, `saturday`.
- `end_time` (String) End time of the window in `HH:MM:SS` format.
- `start_day` (String) Start day of the time window. Possible values: `sunday`, `monday`, `tuesday`, `wednesday`, `thursday`, `friday`, `saturday`.
- `start_time` (String) Start time of the window in `HH:MM:SS` format.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **macOS Software Update Configuration**: This resource manages update policies for macOS devices in Microsoft Intune using the macOSSoftwareUpdateConfiguration API.
- **Update Behaviors**: You can control the behavior for critical, configuration data, firmware, and all other updates.
- **Custom Time Windows**: Supports specifying custom update time windows for fine-grained scheduling.
- **Deferral and Priority**: Allows configuration of user deferral limits and update priority.
- **Assignment Required**: Policies must be assigned to device or user groups to be deployed.
- **Platform Support**: Supports macOS devices managed by Intune.

## Import

Import is supported using the following syntax:

```shell
terraform import microsoft365_graph_beta_device_management_macos_software_update_configuration.example <id>
```