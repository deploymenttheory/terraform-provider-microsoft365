---
page_title: "microsoft365_graph_beta_device_management_role_assignment Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages role assignments in Microsoft Intune using the /deviceManagement/roleAssignments endpoint. Role assignments bind role definitions to users or groups with specific scope configurations, enabling granular access control for device management and administrative functions within Intune.
---

# microsoft365_graph_beta_device_management_role_assignment (Resource)

Manages role assignments in Microsoft Intune using the `/deviceManagement/roleAssignments` endpoint. Role assignments bind role definitions to users or groups with specific scope configurations, enabling granular access control for device management and administrative functions within Intune.

## Microsoft Documentation

- [deviceAndAppManagementRoleAssignment resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-rbac-deviceandappmanagementroleassignment?view=graph-rest-beta)
- [Create deviceAndAppManagementRoleAssignment](https://learn.microsoft.com/en-us/graph/api/intune-rbac-deviceandappmanagementroleassignment-create?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementRBAC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.14.1-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Example 1: Role Assignment with Specific Resource Scopes
resource "microsoft365_graph_beta_device_management_role_assignment" "specific_scopes" {
  display_name       = "Custom Assignment - Specific Scopes"
  description        = "Assignment to specific resource scopes"
  role_definition_id = "00000000-0000-0000-0000-000000000000"

  members = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002"
  ]

  scope_configuration {
    type = "ResourceScopes"
    resource_scopes = [
      "00000000-0000-0000-0000-000000000003",
      "00000000-0000-0000-0000-000000000004"
    ]
  }
}

# Example 2: Role Assignment to All Licensed Users
resource "microsoft365_graph_beta_device_management_role_assignment" "all_licensed_users" {
  display_name       = "Policy Manager - All Licensed Users"
  description        = "Assignment to all licensed users"
  role_definition_id = "0bd113fe-6be5-400c-a28f-ae5553f9c0be" # Policy and Profile manager

  members = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002"
  ]

  scope_configuration {
    type = "AllLicensedUsers"
  }
}

# Example 3: Role Assignment to All Devices
resource "microsoft365_graph_beta_device_management_role_assignment" "all_devices" {
  display_name       = "Device Manager - All Devices"
  description        = "Assignment to all devices"
  role_definition_id = "0bd113fe-6be5-400c-a28f-ae5553f9c0be" # Policy and Profile manager

  members = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002"
  ]

  scope_configuration {
    type = "AllDevices"
  }
}

# Example 4: Using with Custom Role Definition
resource "microsoft365_graph_beta_device_management_role_definition" "custom_role" {
  display_name = "Custom Device Manager"
  description  = "Custom role for device management"

  role_permissions {
    allowed_resource_actions = [
      "Microsoft.Intune/MobileApplications/Read",
      "Microsoft.Intune/MobileApplications/Create",
      "Microsoft.Intune/MobileApplications/Update"
    ]
  }
}

resource "microsoft365_graph_beta_device_management_role_assignment" "custom_role_assignment" {
  display_name       = "Custom Role Assignment"
  description        = "Assignment using custom role definition"
  role_definition_id = microsoft365_graph_beta_device_management_role_definition.custom_role.id

  members = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002"
  ]

  scope_configuration {
    type = "AllLicensedUsers"
  }
}

# Example 5: Using Built-in Role Names (via constants)
locals {
  built_in_roles = {
    policy_manager      = "0bd113fe-6be5-400c-a28f-ae5553f9c0be"
    help_desk_operator  = "9e0cc482-82df-4ab2-a24c-0c23a3f52e1e"
    application_manager = "c1d9fcbb-cba5-40b0-bf6b-527006585f4b"
  }
}

resource "microsoft365_graph_beta_device_management_role_assignment" "help_desk_assignment" {
  display_name       = "Help Desk Team Assignment"
  description        = "Help desk operators with device access"
  role_definition_id = local.built_in_roles.help_desk_operator

  members = [
    "helpdesk-group@contoso.com"
  ]

  scope_configuration {
    type = "AllDevices"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name or name of the role Assignment.
- `members` (Set of String) The list of ids of principals that are assigned to the role. These can be user ids or group ids.
- `role_definition_id` (String) Role definition this assignment is for. Either use a built-in role ID or reference a custom role definition.Built-in role id's are as follows: Policy and Profile manager: 0bd113fe-6be5-400c-a28f-ae5553f9c0beSchool Administrator: 2f9f4f7e-2d13-427b-adf2-361a1eef7ae8Help Desk Operator: 9e0cc482-82df-4ab2-a24c-0c23a3f52e1eApplication Manager: c1d9fcbb-cba5-40b0-bf6b-527006585f4bEndpoint Security Manager: c56d53a2-73d0-4502-b6bd-4a9d3dba28d5Read Only Operator: fa1d7878-e8cb-41a1-8254-0142355c9f84Intune Role Administrator: fb2603eb-3c87-4be3-8b5b-d58a5b4a0bc0

### Optional

- `description` (String) Description of the Role Assignment.
- `scope_configuration` (Block List) Defines the scope configuration for the role assignment. Exactly one scope configuration block is required. (see [below for nested schema](#nestedblock--scope_configuration))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) Key of the entity. This is read-only and automatically generated.

<a id="nestedblock--scope_configuration"></a>
### Nested Schema for `scope_configuration`

Required:

- `type` (String) The type of scope configuration. Valid values are: `ResourceScopes`, `AllLicensedUsers`, `AllDevices`.

Optional:

- `resource_scopes` (Set of String) List of resource scope IDs. Required when type is `ResourceScopes`, must be empty for other types.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# {resource_id/role_definition_id}
terraform import microsoft365_graph_beta_device_and_app_management_role_assignment.example role-assignment-id/role-definition-id
```

