---
page_title: "microsoft365_graph_beta_device_management_device_enrollment_limit_configuration Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Resource is currently broken as per this issue: https://github.com/microsoft/Microsoft365DSC/issues/5127. Manages device enrollment limit configurations using the /deviceManagement/deviceEnrollmentConfigurations endpoint. Device enrollment limit configurations restrict the number of devices a user can enroll in the organization.
---

# microsoft365_graph_beta_device_management_device_enrollment_limit_configuration (Resource)

Resource is currently broken as per this issue: `https://github.com/microsoft/Microsoft365DSC/issues/5127`. Manages device enrollment limit configurations using the `/deviceManagement/deviceEnrollmentConfigurations` endpoint. Device enrollment limit configurations restrict the number of devices a user can enroll in the organization.

## Microsoft Documentation

- [deviceEnrollmentLimitConfiguration resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-onboarding-deviceenrollmentlimitconfiguration?view=graph-rest-beta)
- [List deviceEnrollmentLimitConfigurations](https://learn.microsoft.com/en-us/graph/api/intune-onboarding-deviceenrollmentlimitconfiguration-list?view=graph-rest-beta)
- [Get deviceEnrollmentLimitConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-onboarding-deviceenrollmentlimitconfiguration-get?view=graph-rest-beta)
- [Create deviceEnrollmentLimitConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-onboarding-deviceenrollmentlimitconfiguration-create?view=graph-rest-beta)
- [Update deviceEnrollmentLimitConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-onboarding-deviceenrollmentlimitconfiguration-update?view=graph-rest-beta)
- [Delete deviceEnrollmentLimitConfiguration](https://learn.microsoft.com/en-us/graph/api/intune-onboarding-deviceenrollmentlimitconfiguration-delete?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementServiceConfig.ReadWrite.All` or `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.16.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Basic device enrollment limit configuration
resource "microsoft365_graph_beta_device_management_device_enrollment_limit_configuration" "basic" {
  display_name = "Basic Device Limit"
  description  = "Limits users to 5 devices maximum"
  limit        = 5
  priority     = 1

  timeouts = {
    create = "180s"
    read   = "180s"
    update = "180s"
    delete = "180s"
  }
}

# Advanced device enrollment limit configuration with role scope tags
resource "microsoft365_graph_beta_device_management_device_enrollment_limit_configuration" "advanced" {
  display_name = "Department Device Limit"
  description  = "Allows IT department users to enroll up to 10 devices"
  limit        = 10
  priority     = 2

  role_scope_tag_ids = [
    "0", # Default scope tag
    "1"  # Custom scope tag
  ]

  timeouts = {
    create = "180s"
    read   = "180s"
    update = "180s"
    delete = "180s"
  }
}

# Minimal device enrollment limit configuration
resource "microsoft365_graph_beta_device_management_device_enrollment_limit_configuration" "minimal" {
  display_name = "Minimal Device Limit"
  limit        = 3
}

# High limit configuration for power users
resource "microsoft365_graph_beta_device_management_device_enrollment_limit_configuration" "power_users" {
  display_name = "Power User Device Limit"
  description  = "Allows power users to enroll up to 25 devices"
  limit        = 25
  priority     = 10

  timeouts = {
    create = "300s"
    read   = "300s"
    update = "300s"
    delete = "300s"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the device enrollment configuration.
- `limit` (Number) The maximum number of devices that a user can enroll.

### Optional

- `description` (String) The description of the device enrollment configuration.
- `priority` (Number) Priority is used when a user exists in multiple groups that are assigned enrollment configuration. Users are subject only to the configuration with the lowest priority value.
- `role_scope_tag_ids` (Set of String) Optional role scope tags for the enrollment restrictions.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_date_time` (String) Created date time in UTC of the device enrollment configuration. This property is read-only.
- `device_enrollment_configuration_type` (String) Support for Enrollment Configuration Type. Possible values are: `unknown`, `limit`, `platformRestrictions`, `windowsHelloForBusiness`, `defaultLimit`, `defaultPlatformRestrictions`, `defaultWindowsHelloForBusiness`, `defaultWindows10EnrollmentCompletionPageConfiguration`, `windows10EnrollmentCompletionPageConfiguration`, `deviceComanagementAuthorityConfiguration`, `singlePlatformRestriction`, `unknownFutureValue`, `enrollmentNotificationsConfiguration`, `windowsRestore`.
- `id` (String) The unique identifier of the device enrollment limit configuration.
- `last_modified_date_time` (String) Last modified date time in UTC of the device enrollment configuration. This property is read-only.
- `version` (Number) The version of the device enrollment configuration. This property is read-only.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# Import examples for device enrollment limit configuration resource

# Example 1: Import an existing device enrollment limit configuration by ID
terraform import microsoft365_graph_beta_device_management_device_enrollment_limit_configuration.basic "12345678-1234-1234-1234-123456789abc"

# Example 2: Import with state check
terraform import microsoft365_graph_beta_device_management_device_enrollment_limit_configuration.advanced "87654321-4321-4321-4321-cba987654321"
terraform show microsoft365_graph_beta_device_management_device_enrollment_limit_configuration.advanced

# Example 3: Import and plan to see differences
terraform import microsoft365_graph_beta_device_management_device_enrollment_limit_configuration.minimal "11111111-2222-3333-4444-555555555555"
terraform plan
``` 