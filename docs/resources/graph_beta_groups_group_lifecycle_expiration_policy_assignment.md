---
page_title: "microsoft365_graph_beta_groups_group_lifecycle_expiration_policy_assignment Resource - terraform-provider-microsoft365"
subcategory: "Groups"
description: |-
  Manages the assignment of a Microsoft 365 group to the tenant's group lifecycle expiration policy. This resource adds a group to the lifecycle policy using the /groupLifecyclePolicies/{id}/addGroup endpoint. This resource is only applicable when the policy's managed_group_types is set to Selected. When managed_group_types is set to Selected, you can add up to 500 groups to the policy. If you need to manage more than 500 groups, set managed_group_types to All instead. Only one lifecycle policy exists per tenant, so this resource automatically finds and uses the tenant's policy.
---

# microsoft365_graph_beta_groups_group_lifecycle_expiration_policy_assignment (Resource)

Manages the assignment of a Microsoft 365 group to the tenant's group lifecycle expiration policy. This resource adds a group to the lifecycle policy using the `/groupLifecyclePolicies/{id}/addGroup` endpoint. This resource is only applicable when the policy's `managed_group_types` is set to **Selected**. When `managed_group_types` is set to **Selected**, you can add up to 500 groups to the policy. If you need to manage more than 500 groups, set `managed_group_types` to **All** instead. Only one lifecycle policy exists per tenant, so this resource automatically finds and uses the tenant's policy.

## Microsoft Documentation

- [groupLifecyclePolicy: addGroup](https://learn.microsoft.com/en-us/graph/api/grouplifecyclepolicy-addgroup?view=graph-rest-beta)
- [groupLifecyclePolicy: removeGroup](https://learn.microsoft.com/en-us/graph/api/grouplifecyclepolicy-removegroup?view=graph-rest-beta)
- [Group lifecycle policy resource type](https://learn.microsoft.com/en-us/graph/api/resources/grouplifecyclepolicy?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `Group.ReadWrite.All`, `Directory.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.37.0-alpha | Preview | Initial release |

## Example Usage

```terraform
// Resource must only exist after the lifecycle policy has been created.
// group_id must be a valid Microsoft 365 group.
resource "microsoft365_graph_beta_groups_group_lifecycle_expiration_policy_assignment" "test" {
  group_id   = microsoft365_graph_beta_groups_group.m365_group.id
  depends_on = [microsoft365_graph_beta_groups_group_lifecycle_expiration_policy.selected]
}

// Dependencies

resource "microsoft365_graph_beta_groups_group_lifecycle_expiration_policy" "selected" {
  group_lifetime_in_days        = 365
  managed_group_types           = "Selected"
  alternate_notification_emails = "admin@deploymenttheory.com;notifications@deploymenttheory.com"
  //overwrite_existing_policy     = true
}

resource "microsoft365_graph_beta_groups_group" "m365_group" {
  display_name          = "acc-m365-group-assigned-${random_string.group_suffix.result}"
  mail_enabled          = true
  security_enabled      = true
  group_types           = ["Unified"]
  description           = "Acceptance test - M365 group with assigned membership"
  mail_nickname         = "accm365g6${random_string.group_suffix.result}"
  is_assignable_to_role = true
  visibility            = "Private"
}

resource "random_string" "group_suffix" {
  length  = 6
  special = false
  upper   = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `group_id` (String) The unique identifier of the Microsoft 365 group to add to the lifecycle policy. This group must be a Microsoft 365 group (Unified group).

### Optional

- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier for this assignment. This is the same as the group_id.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Policy Requirement**: A group lifecycle expiration policy must exist and have `managed_group_types` set to **Selected** before groups can be assigned to it.
- **Group Limitations**: When `managed_group_types` is set to **Selected**, you can assign up to 500 groups to the policy. If you need more than 500 groups, set the policy's `managed_group_types` to **All** instead.
- **Group Types**: This resource only works with Microsoft 365 groups (Unified groups). Security-only groups cannot be assigned to lifecycle policies.
- **Automatic Policy Discovery**: This resource automatically discovers the tenant's single lifecycle policy, so you don't need to specify a policy ID.
- **Expiration Management**: Once a group is assigned to a lifecycle policy, its `expirationDateTime` is automatically set based on the policy's `group_lifetime_in_days` value.
- **Renewal Notifications**: Group owners will receive renewal notifications 30 days, 15 days, and 1 day before the group expires. Owners must have Exchange licenses to receive these notifications.
- **Resource Replacement**: Changing the `group_id` requires destroying and recreating the assignment resource.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# Import a group lifecycle policy assignment using the group ID
# The ID for this resource is simply the group ID (UUID format)

terraform import microsoft365_graph_beta_groups_group_lifecycle_expiration_policy_assignment.marketing "12345678-1234-1234-1234-123456789012"

# Note: The group must already be assigned to the tenant's lifecycle policy
# before it can be imported into Terraform state
```

