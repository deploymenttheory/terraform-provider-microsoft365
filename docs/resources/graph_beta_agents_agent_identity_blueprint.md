---
page_title: "microsoft365_graph_beta_agents_agent_identity_blueprint Resource - terraform-provider-microsoft365"
subcategory: "Agents"

description: |-
  Manages an Agent Identity Blueprint in Microsoft Entra ID using the /applications/microsoft.graph.agentIdentityBlueprint endpoint. An agent identity blueprint serves as a template for creating agent identities within the Microsoft Entra ID ecosystem. This resource inherits from the application resource type.
---

# microsoft365_graph_beta_agents_agent_identity_blueprint (Resource)

Manages an Agent Identity Blueprint in Microsoft Entra ID using the `/applications/microsoft.graph.agentIdentityBlueprint` endpoint. An agent identity blueprint serves as a template for creating agent identities within the Microsoft Entra ID ecosystem. This resource inherits from the application resource type.

## Microsoft Documentation

- [agentIdentityBlueprint resource type](https://learn.microsoft.com/en-us/graph/api/resources/agentidentityblueprint?view=graph-rest-beta)
- [Create agentIdentityBlueprint](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-post?view=graph-rest-beta&tabs=http)
- [Update agentIdentityBlueprint](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-update?view=graph-rest-beta&tabs=http)
- [Delete agentIdentityBlueprint](https://learn.microsoft.com/en-us/graph/api/agentidentityblueprint-delete?view=graph-rest-beta&tabs=http)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `AgentIdentityBlueprint.Read.All`, `AgentIdentityBlueprint.ReadWrite.All`, `AgentIdentityBlueprint.Create`, `AgentIdentityBlueprint.AddRemoveCreds.All`, `AgentIdentityBlueprint.UpdateBranding.All`, `Directory.Read.All`, `Directory.ReadWrite.All`

Find out more about the permissions required for managing agent identities at microsoft learn [here](https://learn.microsoft.com/en-us/graph/api/resources/agentid-platform-overview?view=graph-rest-beta#permissions-for-managing-agent-identities).

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.38.0 | Experimental | Initial release |

## Example Usage

### Minimal Example

```terraform
# Minimal Agent Identity Blueprint configuration
# Creates an agent identity blueprint with required fields only
resource "microsoft365_graph_beta_agents_agent_identity_blueprint" "minimal" {
  display_name = "My Agent Blueprint"

  sponsor_user_ids = ["00000000-0000-0000-0000-000000000000"]
  owner_user_ids   = ["00000000-0000-0000-0000-000000000000"]

  # When true, permanently deletes from Entra ID on destroy (cannot be restored)
  # When false, moves to deleted items (can be restored within 30 days)
  hard_delete = true
}
```

### Maximal Example

```terraform
# Maximal Agent Identity Blueprint configuration
# Creates an agent identity blueprint with all available fields configured
resource "microsoft365_graph_beta_agents_agent_identity_blueprint" "maximal" {
  display_name = "Production AI Agent Blueprint"
  description  = "Blueprint for AI agents used in production workloads with full governance controls"

  sponsor_user_ids = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002",
  ]

  owner_user_ids = [
    "00000000-0000-0000-0000-000000000001",
    "00000000-0000-0000-0000-000000000002",
  ]

  tags = [
    "production",
    "ai-agent",
    "managed-by-terraform"
  ]

  # When true, permanently deletes from Entra ID on destroy (cannot be restored)
  # When false, moves to deleted items (can be restored within 30 days)
  hard_delete = true

  timeouts = {
    create = "10m"
    read   = "5m"
    update = "10m"
    delete = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name for the agent identity blueprint. Maximum length is 256 characters. Required.
- `owner_user_ids` (Set of String) The user IDs of the owners for the agent identity blueprint. At least one owner is required when creating an agent identity blueprint. Owners are users who have full control over the blueprint.
- `sponsor_user_ids` (Set of String) The user IDs of the sponsors for the agent identity blueprint. At least one sponsor is required when creating an agent identity blueprint. Sponsors are users who can approve or oversee the blueprint.

### Optional

- `description` (String) Free text field to provide a description of the agent identity blueprint to end users. Maximum length is 1,024 characters.
- `hard_delete` (Boolean) When set to `true`, the resource will be permanently deleted from the Entra ID (hard delete) rather than being moved to deleted items (soft delete). This prevents the resource from being restored and immediately frees up the resource name for reuse. When `false` (default), the resource is soft deleted and can be restored within 30 days. Note: This field defaults to `false` on import since the API does not return this value.
- `sign_in_audience` (String) Specifies the Microsoft accounts that are supported for the current application. Supported values are: `AzureADMyOrg` (Single tenant),  the following values from testing don't work: `AzureADMultipleOrgs` (Multi-tenant), `AzureADandPersonalMicrosoftAccount` (Multi-tenant and personal accounts), `PersonalMicrosoftAccount` (Personal accounts only).
- `tags` (Set of String) Custom strings that can be used to categorize and identify the agent identity blueprint.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `app_id` (String) The unique identifier for the application that is assigned to the agent identity blueprint by Microsoft Entra ID. Also known as Application (client) ID. Read-only.
- `id` (String) The unique identifier for the agent identity blueprint. This property is referred to as Object ID in the Microsoft Entra admin center. Read-only.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# Import an existing Agent Identity Blueprint using the Object ID (id)
# The ID can be found in the Microsoft Entra admin center under:
# Applications > App registrations > [Your Blueprint] > Overview > Object ID

# Basic import (hard_delete defaults to false - soft delete only)
terraform import microsoft365_graph_beta_agents_agent_identity_blueprint.example 00000000-0000-0000-0000-000000000000

# Import with hard_delete enabled (permanently deletes on terraform destroy)
terraform import microsoft365_graph_beta_agents_agent_identity_blueprint.example "00000000-0000-0000-0000-000000000000:hard_delete=true"
```