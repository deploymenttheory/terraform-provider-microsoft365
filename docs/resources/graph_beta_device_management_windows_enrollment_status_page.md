---
page_title: "microsoft365_graph_beta_device_management_windows_enrollment_status_page Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages a Windows 10 Enrollment Status Page configuration in Microsoft Intune. Using the /deviceManagement/deviceEnrollmentConfigurations/{deviceEnrollmentConfigurationId} endpoint.The Enrollment Status Page (ESP) displays the progress of the device setup process during Windows Autopilot provisioning or when a device first enrolls in Microsoft Intune.
---

# microsoft365_graph_beta_device_management_windows_enrollment_status_page (Resource)

Manages a Windows 10 Enrollment Status Page configuration in Microsoft Intune. Using the `/deviceManagement/deviceEnrollmentConfigurations/{deviceEnrollmentConfigurationId}` endpoint.The Enrollment Status Page (ESP) displays the progress of the device setup process during Windows Autopilot provisioning or when a device first enrolls in Microsoft Intune.


## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.27.3-alpha | Experimental | Initial release |
| v0.28.0-alpha | Testing | Test harness added, changed key names for clarity, added key validators, added changes from https://learn.microsoft.com/en-us/intune/intune-service/fundamentals/whats-new#enrollment-status-page-support-for-installing-windows-security-updates-during-windows-oobe- |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_management_windows_enrollment_status_page" "with_assignments" {
  display_name                                                        = "example-windows-enrollment-status-page-with-assignments"
  description                                                         = "Test description for enrollment status page with assignments"
  show_installation_progress                                          = true
  custom_error_message                                                = "Contact IT support for assistance"
  install_quality_updates                                             = true
  install_progress_timeout_in_minutes                                 = 120
  allow_log_collection_on_install_failure                             = true
  only_show_page_to_devices_provisioned_by_out_of_box_experience_oobe = true

  block_device_use_until_all_apps_and_profiles_are_installed = false // this set to false enables the fields below to work
  allow_device_reset_on_install_failure                      = true  // can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false
  allow_device_use_on_install_failure                        = true  // can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false


  selected_mobile_app_ids = [ // if not set, this sets the field to 'all' in the gui. // can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false
    "e4938228-aab3-493b-a9d5-8250aa8e9d55",
    "e83d36e1-3ff2-4567-90d9-940919184ad5",
    "cd4486df-05cc-42bd-8c34-67ac20e10166",
  ]

  only_fail_selected_blocking_apps_in_technician_phase = true // can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false and selected_mobile_app_ids is set

  role_scope_tag_ids = [
    microsoft365_graph_beta_device_management_role_scope_tag.acc_test_role_scope_tag_1.id,
    microsoft365_graph_beta_device_management_role_scope_tag.acc_test_role_scope_tag_2.id
  ]

  assignments = [
    {
      type = "allDevicesAssignmentTarget"
    },
    {
      type = "allLicensedUsersAssignmentTarget"
    },
    {
      type     = "groupAssignmentTarget"
      group_id = microsoft365_graph_beta_groups_group.acc_test_group_1.id
    },
    {
      type     = "groupAssignmentTarget"
      group_id = microsoft365_graph_beta_groups_group.acc_test_group_2.id
    }
  ]
  timeouts = {
    create = "30s"
    read   = "30s"
    update = "30s"
    delete = "30s"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `allow_device_reset_on_install_failure` (Boolean) Allow or block device reset on installation failure. Can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false.
- `allow_device_use_on_install_failure` (Boolean) Allow the user to continue using the device on installation failure. Can only be set to true if block_device_use_until_all_apps_and_profiles_are_installed is false.
- `allow_log_collection_on_install_failure` (Boolean) Allow or block log collection on installation failure.
- `block_device_use_until_all_apps_and_profiles_are_installed` (Boolean) Allow the user to retry the setup on installation failure.
- `display_name` (String) The display name of the enrollment status page configuration.
- `install_progress_timeout_in_minutes` (Number) Set installation progress timeout in minutes. Valid values are 1 to 1440 (24 hours).
- `install_quality_updates` (Boolean) Whether to install quality updates during the enrollment status page experience.
- `only_fail_selected_blocking_apps_in_technician_phase` (Boolean) When this is true, only the selected blocking apps will be failed in the technician phase.
- `only_show_page_to_devices_provisioned_by_out_of_box_experience_oobe` (Boolean) Only show autopilot status page during initial device setup and during first user sign in to devices provisioned by oobe.
- `show_installation_progress` (Boolean) Show or hide installation progress to user.

### Optional

- `assignments` (Attributes Set) Assignments for the device configuration. Each assignment specifies the target group and schedule for script execution. (see [below for nested schema](#nestedatt--assignments))
- `custom_error_message` (String) Set custom message when time limit or error occurs during initial device setup.
- `description` (String) The description of the enrollment status page configuration.
- `role_scope_tag_ids` (Set of String) Set of scope tag IDs for this Settings Catalog template profile.
- `selected_mobile_app_ids` (Set of String) Selected applications to track the installation status. This collection can contain a maximum of 100 elements. Can only be used effectively when block_device_use_until_all_apps_and_profiles_are_installed is true.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) Unique identifier for the enrollment status page configuration.

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `type` (String) Type of assignment target. Must be one of: 'allDevicesAssignmentTarget', 'allLicensedUsersAssignmentTarget', 'groupAssignmentTarget'.

Optional:

- `group_id` (String) The Entra ID group ID to include or exclude in the assignment. Required when type is 'groupAssignmentTarget'.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# {resource_id}
terraform import microsoft365_graph_beta_device_management_windows_enrollment_status_page.example windows-enrollment-status-page-id
```