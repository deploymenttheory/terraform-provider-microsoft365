---
page_title: "microsoft365_graph_beta_device_management_windows_enrollment_status_page Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages a Windows 10 Enrollment Status Page configuration in Microsoft Intune.
  The Enrollment Status Page (ESP) displays the progress of the device setup process during Windows Autopilot provisioning or when a device first enrolls in Microsoft Intune.
  API Documentation
  Graph API Documentation https://learn.microsoft.com/en-us/graph/api/resources/intune-onboarding-windows10enrollmentcompletionpageconfiguration?view=graph-rest-beta
  Permissions
  The following API permissions are required:
  Read
  DeviceManagementServiceConfig.Read.AllDeviceManagementServiceConfig.ReadWrite.All
  Write
  DeviceManagementServiceConfig.ReadWrite.All
---

# microsoft365_graph_beta_device_management_windows_enrollment_status_page (Resource)

Manages a Windows 10 Enrollment Status Page configuration in Microsoft Intune.

The Enrollment Status Page (ESP) displays the progress of the device setup process during Windows Autopilot provisioning or when a device first enrolls in Microsoft Intune.

## API Documentation

- [Graph API Documentation](https://learn.microsoft.com/en-us/graph/api/resources/intune-onboarding-windows10enrollmentcompletionpageconfiguration?view=graph-rest-beta)

## Permissions

The following API permissions are required:

### Read
- `DeviceManagementServiceConfig.Read.All`
- `DeviceManagementServiceConfig.ReadWrite.All`

### Write
- `DeviceManagementServiceConfig.ReadWrite.All`


## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.27.3-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_management_windows_driver_update_profile" "manual_example" {
  display_name       = "Windows Driver Updates - Production x"
  description        = "Driver update profile for production machines"
  approval_type      = "manual"
  role_scope_tag_ids = [8, 9]

  // Optional assignment blocks
  assignments = [
    # Assignment targeting a specific group
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    # Assignment targeting a specific group
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    # Exclusion group assignments
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    }
  ]

  timeouts = {
    create = "30m"
    read   = "10m"
    update = "30m"
    delete = "10m"
  }
}

resource "microsoft365_graph_beta_device_management_windows_driver_update_profile" "automatic_example" {
  display_name                = "Windows Driver Updates - Production y"
  description                 = "Driver update profile for production machines"
  approval_type               = "automatic"
  deployment_deferral_in_days = 14
  role_scope_tag_ids          = [8, 9]

  // Optional assignment blocks
  assignments = [
    # Assignment targeting a specific group
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    # Assignment targeting a specific group
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    # Exclusion group assignments
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    }
  ]

  timeouts = {
    create = "30m"
    read   = "10m"
    update = "30m"
    delete = "10m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `allow_device_reset_on_install_failure` (Boolean) Allow or block device reset on installation failure.
- `allow_device_use_on_install_failure` (Boolean) Allow the user to continue using the device on installation failure.
- `allow_log_collection_on_install_failure` (Boolean) Allow or block log collection on installation failure.
- `block_device_setup_retry_by_user` (Boolean) Allow the user to retry the setup on installation failure.
- `disable_user_status_tracking_after_first_user` (Boolean) Only show installation progress for first user post enrollment.
- `display_name` (String) The display name of the enrollment status page configuration.
- `show_installation_progress` (Boolean) Show or hide installation progress to user.
- `track_install_progress_for_autopilot_only` (Boolean) Only show installation progress for Autopilot enrollment scenarios.

### Optional

- `assignments` (Attributes Set) Assignments for the device configuration. Each assignment specifies the target group and schedule for script execution. (see [below for nested schema](#nestedatt--assignments))
- `custom_error_message` (String) Set custom error message to show upon installation failure.
- `description` (String) The description of the enrollment status page configuration.
- `install_progress_timeout_in_minutes` (Number) Set installation progress timeout in minutes. Valid values are 1 to 1440 (24 hours).
- `role_scope_tag_ids` (Set of String) Set of scope tag IDs for this Settings Catalog template profile.
- `selected_mobile_app_ids` (Set of String) Selected applications to track the installation status. This collection can contain a maximum of 100 elements.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) Unique identifier for the enrollment status page configuration.
- `priority` (Number) Priority is used when a user exists in multiple groups that are assigned enrollment configuration. Users are subject only to the configuration with the lowest priority value.

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `type` (String) Type of assignment target. Must be one of: 'allDevicesAssignmentTarget', 'allLicensedUsersAssignmentTarget', 'groupAssignmentTarget'.

Optional:

- `group_id` (String) The Entra ID group ID to include or exclude in the assignment. Required when type is 'groupAssignmentTarget'.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# {resource_id}
terraform import microsoft365_graph_beta_device_management_windows_enrollment_status_page.example windows-enrollment-status-page-id
```