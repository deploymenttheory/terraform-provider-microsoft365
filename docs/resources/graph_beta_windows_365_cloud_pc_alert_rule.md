---
page_title: "microsoft365_graph_beta_windows_365_cloud_pc_alert_rule Resource - terraform-provider-microsoft365"
subcategory: "Windows 365"

description: |-
  Manages a Windows 365 Cloud PC Alert Rule using the Microsoft Graph Beta API.
---

# microsoft365_graph_beta_windows_365_cloud_pc_alert_rule (Resource)

Manages a Windows 365 Cloud PC Alert Rule using the Microsoft Graph Beta API.

## Microsoft Documentation

- [cloudPcProvisioningPolicy resource type (beta)](https://learn.microsoft.com/en-us/graph/api/resources/cloudpcprovisioningpolicy?view=graph-rest-beta)
- [Create cloudPcProvisioningPolicy (beta)](https://learn.microsoft.com/en-us/graph/api/virtualendpoint-post-provisioningpolicies?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `CloudPC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.20.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_windows_365_cloud_pc_alert_rule" "example" {
  display_name        = "Example Cloud PC Alert Rule"
  description         = "This is an example Cloud PC alert rule."
  alert_rule_template = "cloudPcFrontlineInsufficientLicensesScenario" # Use a valid template value from the API
  enabled             = true
  is_system_rule      = false
  severity            = "warning" # Use a valid severity value from the API

  notification_channels = [
    {
      notification_channel_type = "email" # Use a valid channel type from the API
      notification_receivers = [
        {
          contact_information = "admin@example.com"
          locale              = "en-US"
        }
      ]
    }
  ]

  threshold = {
    aggregation = "count"          # Use a valid aggregation type from the API
    operator    = "greaterOrEqual" # Use a valid operator from the API
    target      = 10
  }

  conditions = [
    {
      condition_category = "cloudPcInGracePeriod"
      relationship_type  = "and"
      aggregation        = "count"
      operator           = "greater"
      threshold_value    = "5"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `alert_rule_template` (String) The rule template of the alert event. Possible values: cloudPcProvisionScenario, cloudPcImageUploadScenario, cloudPcOnPremiseNetworkConnectionCheckScenario, unknownFutureValue, cloudPcInGracePeriodScenario, cloudPcFrontlineInsufficientLicensesScenario, cloudPcInaccessibleScenario, cloudPcFrontlineConcurrencyScenario.
- `display_name` (String) The display name of the rule.
- `is_system_rule` (Boolean) Indicates whether the rule is a system rule. Read-only.
- `severity` (String) The severity of the rule. Possible values: unknown, informational, warning, critical, unknownFutureValue.

### Optional

- `conditions` (Attributes List) The conditions that determine when to send alerts. (see [below for nested schema](#nestedatt--conditions))
- `description` (String) The rule description.
- `enabled` (Boolean) Whether the rule is enabled.
- `notification_channels` (Attributes List) The notification channels of the rule. (see [below for nested schema](#nestedatt--notification_channels))
- `threshold` (Attributes) The conditions that determine when to send alerts. Deprecated. Use conditions instead. (see [below for nested schema](#nestedatt--threshold))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier for the alert rule. Read-only.

<a id="nestedatt--conditions"></a>
### Nested Schema for `conditions`

Optional:

- `aggregation` (String) The built-in aggregation method for the rule condition. Possible values: count, percentage, affectedCloudPcCount, affectedCloudPcPercentage, unknownFutureValue, durationInMinutes.
- `condition_category` (String) The property that the rule condition monitors. Possible values: provisionFailures, imageUploadFailures, azureNetworkConnectionCheckFailures, cloudPcInGracePeriod, frontlineInsufficientLicenses, cloudPcConnectionErrors, cloudPcHostHealthCheckFailures, cloudPcZoneOutage, unknownFutureValue, frontlineBufferUsageDuration, frontlineBufferUsageThreshold.
- `operator` (String) The built-in operator for the rule condition. Possible values: greaterOrEqual, equal, greater, less, lessOrEqual, notEqual, unknownFutureValue.
- `relationship_type` (String) The relationship type. Possible values: and, or, unknownFutureValue.
- `threshold_value` (String) The threshold value of the alert condition. The threshold value can be a number in string form or string like 'WestUS'.


<a id="nestedatt--notification_channels"></a>
### Nested Schema for `notification_channels`

Optional:

- `notification_channel_type` (String) The type of the notification channel. Possible values: portal, email, phoneCall, sms, unknownFutureValue.
- `notification_receivers` (Attributes List) Notification receivers for the channel. (see [below for nested schema](#nestedatt--notification_channels--notification_receivers))

<a id="nestedatt--notification_channels--notification_receivers"></a>
### Nested Schema for `notification_channels.notification_receivers`

Optional:

- `contact_information` (String) Contact information for the receiver.
- `locale` (String) Locale for the receiver.



<a id="nestedatt--threshold"></a>
### Nested Schema for `threshold`

Optional:

- `aggregation` (String) Aggregation method. Possible values: count, percentage, affectedCloudPcCount, affectedCloudPcPercentage, unknownFutureValue.
- `operator` (String) Operator. Possible values: greaterOrEqual, equal, greater, less, lessOrEqual, notEqual, unknownFutureValue.
- `target` (Number) The target threshold value.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


## Import

Import is supported using the following syntax:

```shell
#!/bin/sh

# Replace with the actual ID of your Cloud PC alert rule (visible after creation in the Azure portal or via API)
terraform import microsoft365_graph_beta_windows_365_cloud_pc_alert_rule.example 00000000-0000-0000-0000-000000000000
``` 