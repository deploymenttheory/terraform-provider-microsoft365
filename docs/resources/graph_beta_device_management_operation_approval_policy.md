---
page_title: "microsoft365_graph_beta_device_management_operation_approval_policy Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages Operation Approval Policies in Microsoft Intune.
---

# microsoft365_graph_beta_device_management_operation_approval_policy (Resource)

Manages Operation Approval Policies in Microsoft Intune.

## Microsoft Documentation

- [operationApprovalPolicy resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-rbac-operationapprovalpolicy?view=graph-rest-beta)
- [Create operationApprovalPolicy](https://learn.microsoft.com/en-us/graph/api/intune-rbac-operationapprovalpolicy-create?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementRBAC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.14.1-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Basic Operation Approval Policy configuration
resource "microsoft365_graph_beta_device_management_operation_approval_policy" "basic_approval" {
  display_name = "Basic App Approval Policy"
  description  = "Requires approval for application deployments"

  policy_set {
    policy_type = "app"
  }

  approver_group_ids = [
    "12345678-1234-1234-1234-123456789012" # IT Administrators group
  ]
}

# Comprehensive Operation Approval Policy for scripts
resource "microsoft365_graph_beta_device_management_operation_approval_policy" "script_approval" {
  display_name    = "PowerShell Script Approval Policy"
  description     = "Multi-level approval required for PowerShell script execution on managed devices"
  policy_type     = "script"
  policy_platform = "windows10AndLater"

  policy_set {
    policy_type     = "script"
    policy_platform = "windows10AndLater"
  }

  approver_group_ids = [
    "11111111-1111-1111-1111-111111111111", # Security Team
    "22222222-2222-2222-2222-222222222222", # IT Management
    "33333333-3333-3333-3333-333333333333"  # Compliance Team
  ]

  timeouts {
    create = "10m"
    read   = "5m"
    update = "10m"
    delete = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `approver_group_ids` (Set of String) The Microsoft Entra ID (Azure AD) security group IDs for the approvers for the policy. This property is required when the policy is created, and is defined by the IT Admins to define the possible approvers for the policy.
- `display_name` (String) Indicates the display name of the policy. Maximum length of the display name is 128 characters. This property is required when the policy is created, and is defined by the IT Admins to identify the policy.
- `policy_set` (Attributes) Indicates areas of the Intune UX that could support MAA UX for the current logged in IT Admin. This property is required, and is defined by the IT Admins in order to correctly show the expected experience. (see [below for nested schema](#nestedatt--policy_set))

### Optional

- `description` (String) Indicates the description of the policy. Maximum length of the description is 1024 characters. This property is not required, but can be used by the IT Admin to describe the policy.
- `policy_platform` (String) Indicates the applicable platform for the policy. Possible values are:

- **notApplicable**: Not applicable to any platform
- **androidDeviceAdministrator**: Android device administrator platform
- **androidEnterprise**: Android enterprise platform
- **iOSiPadOS**: iOS/iPadOS platform
- **macOS**: macOS platform
- **windows10AndLater**: Windows 10 and later platform
- **windows81AndLater**: Windows 8.1 and later platform
- **windows10X**: Windows 10X platform
- `policy_type` (String) The policy type for the OperationApprovalPolicy. Possible values are:

- **unknown**: Unknown policy type
- **app**: Application policy
- **script**: Script policy
- **role**: Role policy
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier of the policy. This ID is assigned at when the policy is created. Read-only.
- `last_modified_date_time` (String) Indicates the last DateTime that the policy was modified. The value cannot be modified and is automatically populated whenever values in the request are updated. Read-only.

<a id="nestedatt--policy_set"></a>
### Nested Schema for `policy_set`

Required:

- `policy_type` (String) The policy type for the OperationApprovalPolicy. Possible values are:

- **unknown**: Unknown policy type
- **app**: Application policy
- **script**: Script policy
- **role**: Role policy

Optional:

- `policy_platform` (String) The policy platform for the policy set.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# Import existing resource operation
terraform import microsoft365_graph_beta_device_management_operation_approval_policy {id}
```

