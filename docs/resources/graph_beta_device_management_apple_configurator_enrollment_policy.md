---
page_title: "microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages apple configurator enrollment policies in Microsoft Intune using the /deviceManagement/depOnboardingSettings/{depOnboardingSettingsId}/enrollmentProfiles endpoint.Apple configurator enrollment policy defines the enrollment policy for Apple devices when using the Apple Configurator enrollment type.
---

# microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy (Resource)

Manages apple configurator enrollment policies in Microsoft Intune using the `/deviceManagement/depOnboardingSettings/{depOnboardingSettingsId}/enrollmentProfiles` endpoint.Apple configurator enrollment policy defines the enrollment policy for Apple devices when using the Apple Configurator enrollment type.

## Microsoft Documentation

- [appleConfiguratorEnrollmentPolicy resource type](https://learn.microsoft.com/en-us/intune/intune-service/enrollment/apple-configurator-enroll-ios)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementServiceConfig.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.32.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Test Case 1: Full Configuration without user affinity
resource "microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy" "enroll_without_user_affinity" {
  display_name                                               = "acc-test-apple-configurator-enrollment-policy-enroll-without-user-affinity"
  description                                                = "apple configurator enrollment policy without user affinity"
  requires_user_authentication                               = false
  enable_authentication_via_company_portal                   = false
  require_company_portal_on_setup_assistant_enrolled_devices = false

  timeouts = {
    create = "10s"
    read   = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Test Case 2: Full Configuration with user affinity via company portal
resource "microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy" "user_affinity_with_company_portal" {
  display_name                                               = "acc-test-apple-configurator-enrollment-policy-user-affinity-with-company-portal"
  description                                                = "apple configurator enrollment policy with user affinity via company portal"
  requires_user_authentication                               = false
  enable_authentication_via_company_portal                   = true
  require_company_portal_on_setup_assistant_enrolled_devices = false

  timeouts = {
    create = "10s"
    read   = "5m"
    update = "5m"
    delete = "5m"
  }
}

# Test Case 3: Full Configuration with user affinity via setup assistant
resource "microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy" "user_affinity_with_setup_assistant" {
  display_name                                               = "acc-test-apple-configurator-enrollment-policy-user-affinity-with-setup-assistant"
  description                                                = "apple configurator enrollment policy with user affinity via setup assistant"
  requires_user_authentication                               = true
  enable_authentication_via_company_portal                   = false
  require_company_portal_on_setup_assistant_enrolled_devices = true

  timeouts = {
    create = "10s"
    read   = "5m"
    update = "5m"
    delete = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The name of the apple business manager enrollment profile displayed in Intune.
- `enable_authentication_via_company_portal` (Boolean) How users first sign in to authenticate with Intune.If your organization uses multi-factor authentication, set this to true; the app will then automatically install on devices at time of enrollment.
- `require_company_portal_on_setup_assistant_enrolled_devices` (Boolean) How users first sign in to authenticate with Intune. Setup assistant as a standalone authentication method has been superseded by setup assistant with modern authentication. The modern authentication method prompts users to authenticate based on the settings you've configured in Microsoft Entra ID.
- `requires_user_authentication` (Boolean) Indicates whether the user must authenticate during Apple device setup.

### Optional

- `description` (String) Description of the apple business manager enrollment profile.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `configuration_endpoint_url` (String) Apple Configurator enrollment configuration endpoint URL generated by Intune.
- `dep_onboarding_settings_id` (String) Identifier of the parent depOnboardingSetting that contains this apple business manager enrollment profile. This is resolved from the /deviceManagement endpoint and correlated to the intuneAccountId.
- `id` (String) The unique identifier of the enrollment profile.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

# {resource_id}
terraform import microsoft365_graph_beta_device_management_apple_configurator_enrollment_policy.example 00000000-0000-0000-0000-000000000000
``` 