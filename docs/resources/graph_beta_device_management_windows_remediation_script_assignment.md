---
page_title: "microsoft365_graph_beta_device_management_windows_remediation_script_assignment Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages Device Health Script Assignments in Microsoft Intune.
---

# microsoft365_graph_beta_device_management_windows_remediation_script_assignment (Resource)

Manages Device Health Script Assignments in Microsoft Intune.

## Microsoft Documentation

- [deviceHealthScriptAssignment resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-devices-devicehealthscriptassignment?view=graph-rest-beta)
- [Create deviceHealthScriptAssignment](https://learn.microsoft.com/en-us/graph/api/intune-devices-devicehealthscript-post-assignments?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.14.1-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_management_windows_remediation_script_assignment" "daily_example" {
  device_health_script_id = "00000000-0000-0000-0000-000000000001"

  target = {
    target_type = "groupAssignment"
    group_id    = "00000000-0000-0000-0000-000000000002"
  }

  run_remediation_script = true

  run_schedule = {
    daily = {
      # Number of days between runs. Default is 1, valid 1–30.
      interval = 2

      # Time of day, in HH:MM:SS.
      time = "14:30:00"

      # Whether to use UTC (true) or local device time (false).
      use_utc = true
    }
  }

  timeouts = {
    create = "10s"
    read   = "10s"
    update = "10s"
    delete = "10s"
  }
}

resource "graph_beta_device_management_windows_remediation_script_assignment" "hourly_example" {
  device_health_remediation_id = "00000000-0000-0000-0000-000000000003"


  target {
    target_type = "allDevices"
  }

  # Only the interval + UTC flag apply here
  run_schedule {
    hourly {
      # Hours between runs. Default is 1, valid 1–23.
      interval = 3

      use_utc = false
    }
  }
  timeouts = {
    create = "10s"
    read   = "10s"
    update = "10s"
    delete = "10s"
  }
}

resource "graph_beta_device_management_windows_remediation_script_assignment" "once_example" {
  device_health_remediation_id = "00000000-0000-0000-0000-000000000004"

  target {
    target_type   = "configurationManagerCollection"
    collection_id = "MEMABCDEF01"
  }

  run_schedule {
    once {
      # ISO-8601 timestamp for the one-time run
      start_date_time = "2025-06-01T10:00:00Z"

      use_utc = true
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device_health_script_id` (String) The ID of the device health script to attach the assignment to.
- `target` (Attributes) (see [below for nested schema](#nestedatt--target))

### Optional

- `run_remediation_script` (Boolean) Indicates whether remediation script should be run. Default is false.
- `run_schedule` (Attributes) (see [below for nested schema](#nestedatt--run_schedule))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The ID of the device health script assignment.

<a id="nestedatt--target"></a>
### Nested Schema for `target`

Required:

- `target_type` (String) The target group type for the script assignment. Possible values are:

- **allDevices**: Target all devices in the tenant
- **allLicensedUsers**: Target all licensed users in the tenant
- **configurationManagerCollection**: Target System Center Configuration Manager collection
- **exclusionGroupAssignment**: Target a specific Entra ID group for exclusion
- **groupAssignment**: Target a specific Entra ID group

Optional:

- `collection_id` (String) The SCCM group collection ID for the assignment target. Default collections start with 'SMS', while custom collections start with your site code (e.g., 'MEM').
- `device_and_app_management_assignment_filter_id` (String) The Id of the scope filter applied to the target assignment.
- `device_and_app_management_assignment_filter_type` (String) The type of scope filter for the target assignment. Defaults to 'none'. Possible values are:

- **include**: Only include devices or users matching the filter
- **exclude**: Exclude devices or users matching the filter
- **none**: No assignment filter applied
- `group_id` (String) The entra ID group ID for the assignment target. Required when target_type is 'groupAssignment' or 'exclusionGroupAssignment'.


<a id="nestedatt--run_schedule"></a>
### Nested Schema for `run_schedule`

Optional:

- `daily` (Attributes) (see [below for nested schema](#nestedatt--run_schedule--daily))
- `hourly` (Attributes) (see [below for nested schema](#nestedatt--run_schedule--hourly))
- `once` (Attributes) (see [below for nested schema](#nestedatt--run_schedule--once))

<a id="nestedatt--run_schedule--daily"></a>
### Nested Schema for `run_schedule.daily`

Required:

- `time` (String) Time of day to run the script, formatted as HH:MM:SS.

Optional:

- `interval` (Number) Number of days between runs. Default is 1. Valid values are between 1 and 30.
- `use_utc` (Boolean) Whether to use UTC time or user device's local time. Default is false (local time).


<a id="nestedatt--run_schedule--hourly"></a>
### Nested Schema for `run_schedule.hourly`

Optional:

- `interval` (Number) Number of hours between runs. Default is 1. Valid values are between 1 and 23.
- `use_utc` (Boolean) Whether to use UTC time or user device's local time. Default is false (local time).


<a id="nestedatt--run_schedule--once"></a>
### Nested Schema for `run_schedule.once`

Required:

- `start_date_time` (String) Date and time to run the script, formatted as ISO 8601 timestamp.

Optional:

- `use_utc` (Boolean) Whether to use UTC time or user device's local time. Default is false (local time).



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# {resource_id}
terraform import microsoft365_graph_beta_device_and_app_management_windows_remediation_script_assignment.example windows-remediation-script-assignment-id
```