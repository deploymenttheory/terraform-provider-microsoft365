---
page_title: "microsoft365_graph_beta_device_management_policy_set Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages policy sets in Microsoft Intune using the /deviceAppManagement/policySets endpoint. Policy sets allow you to group multiple device management policies and applications together for unified deployment and assignment.
---

# microsoft365_graph_beta_device_management_policy_set (Resource)

Manages policy sets in Microsoft Intune using the `/deviceAppManagement/policySets` endpoint. Policy sets allow you to group multiple device management policies and applications together for unified deployment and assignment.

## Microsoft Documentation

- [policySet resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-policyset-policyset?view=graph-rest-beta)
- [Create policySet](https://learn.microsoft.com/en-us/graph/api/intune-policyset-policyset-create?view=graph-rest-beta)
- [Update policySet](https://learn.microsoft.com/en-us/graph/api/intune-policyset-policyset-update?view=graph-rest-beta)
- [Delete policySet](https://learn.microsoft.com/en-us/graph/api/intune-policyset-policyset-delete?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementRBAC.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.33.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
# Policy Set with multiple policy types
resource "microsoft365_graph_beta_device_management_policy_set" "example" {
  display_name = "example intune policy set"
  description  = "maximal example"

  items = [
    # Windows MSI line-of-business app example
    {
      type       = "app"
      payload_id = "00000000-0000-0000-0000-000000000000"
      intent     = "required"
    },
    # iOS Store App example
    {
      type       = "app"
      payload_id = "00000000-0000-0000-0000-000000000000"
      intent     = "required"
      settings = {
        odata_type                  = "#microsoft.graph.iosStoreAppAssignmentSettings"
        vpn_configuration_id        = "00000000-0000-0000-0000-000000000000"
        uninstall_on_device_removal = true
        is_removable                = true
      }
    },
    # Targeted Managed App Configuration Policy Set Items
    {
      type       = "app_configuration_policy"
      payload_id = "A_00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "app_configuration_policy"
      payload_id = "A_00000000-0000-0000-0000-000000000000"
    },
    # Managed App Protection Policy Set Items
    {
      type       = "app_protection_policy"
      payload_id = "T_00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "app_protection_policy"
      payload_id = "T_00000000-0000-0000-0000-000000000000"
    },
    # Device Configuration Policy Set Items
    {
      type       = "device_configuration_profile"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "device_configuration_profile"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    # Device Management Configuration Policy Set Items
    {
      type       = "device_management_configuration_policy"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "device_management_configuration_policy"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    # Device Compliance Policy Set Items
    {
      type       = "device_compliance_policy"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "device_compliance_policy"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    # Windows Autopilot Deployment Profile Policy Set Items
    {
      type       = "windows_autopilot_deployment_profile"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type       = "windows_autopilot_deployment_profile"
      payload_id = "00000000-0000-0000-0000-000000000000"
    },
  ]

  # Assignments for the policy set
  assignments = [
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "groupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
  ]


  role_scope_tag_ids = ["0"]

  timeouts = {
    create = "5m"
    read   = "5m"
    update = "5m"
    delete = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the policy set

### Optional

- `assignments` (Attributes Set) Assignments for the compliance policy. Each assignment specifies the target group and schedule for script execution. (see [below for nested schema](#nestedatt--assignments))
- `description` (String) The optional description of the policy set
- `items` (Attributes Set) Set of policy set items ('apps', 'app configuration policies', 'app protection policies', 'device configuration profiles', 'device management configuration policies', 'device compliance policies', 'windows autopilot deployment profiles') included in this policy set. (see [below for nested schema](#nestedatt--items))
- `role_scope_tag_ids` (Set of String) Set of scope tag IDs for this policy set.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_date_time` (String) The date and time the policy set was created
- `error_code` (String) The error code for the policy set (e.g., noError)
- `id` (String) The unique identifier for this policy set
- `last_modified_date_time` (String) The date and time the policy set was last modified
- `status` (String) The status of the policy set (e.g., notAssigned, assigned)

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `type` (String) Type of assignment target. Must be one of: 'allLicensedUsersAssignmentTarget', 'groupAssignmentTarget'.

Optional:

- `group_id` (String) The Entra ID group ID to include or exclude in the assignment. Required when type is 'groupAssignmentTarget'.


<a id="nestedatt--items"></a>
### Nested Schema for `items`

Required:

- `payload_id` (String) The ID reference of the policy or application being included in the policy set.
- `type` (String) The type of policy set item. Valid values: 'app', 'app_configuration_policy', 'app_protection_policy', 'device_configuration_profile', 'device_management_configuration_policy', 'device_compliance_policy', 'windows_autopilot_deployment_profile'

Optional:

- `intent` (String) The intent for mobile app policy set items (e.g., required, available)
- `settings` (Attributes) Settings specific to the policy set item type (see [below for nested schema](#nestedatt--items--settings))

Read-Only:

- `id` (String) The unique identifier of the policy set item

<a id="nestedatt--items--settings"></a>
### Nested Schema for `items.settings`

Optional:

- `is_removable` (Boolean) Whether the app is removable by the user
- `odata_type` (String) The OData type of the settings
- `prevent_managed_app_backup` (Boolean) Whether to prevent managed app backup
- `uninstall_on_device_removal` (Boolean) Whether to uninstall the app when the device is removed
- `vpn_configuration_id` (String) VPN configuration ID for iOS store app assignment settings



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# Import existing policy set
terraform import microsoft365_graph_beta_device_management_policy_set.example {id}
```

