---
page_title: "microsoft365_graph_beta_device_management_linux_platform_script Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages Linux platform scripts using the /deviceManagement/configurationPolicies endpoint. Linux platform scripts enable automated deployment and execution of shell scripts on managed Linux devices with configurable execution contexts, retry logic, and scheduled execution frequencies for system administration and maintenance tasks.
---

# microsoft365_graph_beta_device_management_linux_platform_script (Resource)

Manages Linux platform scripts using the `/deviceManagement/configurationPolicies` endpoint. Linux platform scripts enable automated deployment and execution of shell scripts on managed Linux devices with configurable execution contexts, retry logic, and scheduled execution frequencies for system administration and maintenance tasks.

## Microsoft Documentation

- [deviceManagementConfigurationPolicy resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfigv2-devicemanagementconfigurationpolicy?view=graph-rest-beta)
- [Create deviceManagementConfigurationPolicy](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfigv2-devicemanagementconfigurationpolicy-create?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.14.1-alpha | Experimental | Initial release |
| v0.25.0-alpha | Testing | Updated to use new settings catalog assignment schema |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_management_linux_platform_script" "example" {
  name                = "Example Linux Script"
  description         = "Example script to demonstrate Linux platform script configuration"
  execution_context   = "user" // Possible values are user, root
  execution_frequency = "1day" // Possible values are 1day, 3days, 5days, 1week
  execution_retries   = 2      // Can be one of: `15minutes`, `30minutes`, `1hour`, `2hour`, `3hour`, `6hour`, `12hour`, `1day`, or `1week`. Defaults to `15minutes`.

  script_content = <<-EOT
    #!/bin/bash
    echo "Hello from Linux script"
    # Add your script content here 2
  EOT

  role_scope_tag_ids = ["0"]

  assignments = [
    # Optional: Assignment targeting all devices with inlcude filter
    {
      type        = "allDevicesAssignmentTarget"
      filter_id   = "00000000-0000-0000-0000-000000000000"
      filter_type = "include"
    },
    # Optional: Assignment targeting all licensed users with exclude filter
    {
      type        = "allLicensedUsersAssignmentTarget"
      filter_id   = "00000000-0000-0000-0000-000000000000"
      filter_type = "exclude"
    },
    # Optional: Assignment targeting a specific group with include filter
    {
      type        = "groupAssignmentTarget"
      group_id    = "00000000-0000-0000-0000-000000000000"
      filter_id   = "00000000-0000-0000-0000-000000000000"
      filter_type = "include"
    },
    # Optional: Assignment targeting a specific group with exclude filter
    {
      type        = "groupAssignmentTarget"
      group_id    = "00000000-0000-0000-0000-000000000000"
      filter_id   = "00000000-0000-0000-0000-000000000000"
      filter_type = "exclude"
    },
    # Optional: Assignment targeting a specific group with include filter
    {
      type        = "groupAssignmentTarget"
      group_id    = "00000000-0000-0000-0000-000000000000"
      filter_id   = "00000000-0000-0000-0000-000000000000"
      filter_type = "exclude"
    },
    # Optional: Exclusion group assignments
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
    {
      type     = "exclusionGroupAssignmentTarget"
      group_id = "00000000-0000-0000-0000-000000000000"
    },
  ]

  # Optional: Custom timeouts
  timeouts = {
    create = "30s"
    read   = "30s"
    update = "30s"
    delete = "30s"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `execution_context` (String) Execution context for the linux platform script. Can be one of: user or root. Defaults to user.
- `execution_frequency` (String) Execution frequency for the Linux platform script. Can be one of: `15minutes`, `30minutes`, `1hour`, `2hour`, `3hour`, `6hour`, `12hour`, `1day`, or `1week`. Defaults to `15minutes`.
- `execution_retries` (String) Number of times the Linux platform script should be retried on failure. Can be one of: `1`, `2`, or `3`. Defaults to `1`.
- `name` (String) Name of the linux device management script.
- `script_content` (String, Sensitive) The linux script content. This will be base64 encoded as part of the request.

### Optional

- `assignments` (Attributes Set) Assignments for the device configuration. Each assignment specifies the target group and schedule for script execution. Supports group filters. (see [below for nested schema](#nestedatt--assignments))
- `description` (String) Optional description for the linux device management script.
- `role_scope_tag_ids` (Set of String) Set of scope tag IDs for this Settings Catalog template profile.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier of the linux platform script.
- `platforms` (String) Platform type for this linux platform script.Will always be set to ['linux'],unknownFutureValue, androidEnterprise, or aosp. Defaults to none.
- `technologies` (List of String) Describes the technologies this settings catalog setting can be deployed with. Defaults to ['linuxMdm'].

<a id="nestedatt--assignments"></a>
### Nested Schema for `assignments`

Required:

- `type` (String) Type of assignment target. Must be one of: 'allDevicesAssignmentTarget', 'allLicensedUsersAssignmentTarget', 'groupAssignmentTarget', 'exclusionGroupAssignmentTarget'.

Optional:

- `filter_id` (String) ID of the filter to apply to the assignment.
- `filter_type` (String) Type of filter to apply. Must be one of: 'include', 'exclude', or 'none'.
- `group_id` (String) The Entra ID group ID to include or exclude in the assignment. Required when type is 'groupAssignmentTarget' or 'exclusionGroupAssignmentTarget'.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Linux Settings Catalog**: This resource manages Linux platform scripts through the Intune Settings Catalog, not as standalone shell scripts.
- **Configuration Policies**: Linux scripts are deployed as device configuration policies using the settings catalog framework.
- **Script Execution**: Scripts are executed on Linux devices using the Microsoft Intune app for Linux.
- **User vs Root Context**: Scripts can run as the current user or with root/sudo privileges depending on configuration.
- **Assignment Required**: Policies must be assigned to device or user groups to be deployed.
- **Distribution Support**: Supports major Linux distributions including Ubuntu, RHEL, CentOS, and SUSE.
- **Policy Validation**: Intune provides configuration status reporting and logs for troubleshooting.
- **Return Codes**: Scripts should use appropriate exit codes to indicate success or failure.
- **Security Context**: Scripts running with elevated privileges should be carefully reviewed for security implications.
- **Settings Catalog Framework**: Uses the same underlying technology as Windows and macOS settings catalog policies.
- **Platform Requirements**: Requires Microsoft Intune app for Linux to be installed and enrolled.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash
# Import using the LinuxPlatformScript ID
terraform import microsoft365_graph_beta_device_management_linux_platform_script.example 00000000-0000-0000-0000-000000000000
```

