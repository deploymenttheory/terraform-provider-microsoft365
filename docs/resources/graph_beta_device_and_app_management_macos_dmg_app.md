---
page_title: "microsoft365_graph_beta_device_and_app_management_macos_dmg_app Resource - terraform-provider-microsoft365"
subcategory: "Device and App Management"

description: |-
  Manages a macOS DMG (Apple Disk Image) app deployment in Microsoft Intune using the /deviceAppManagement/mobileApps endpoint. DMG files contain one or more .app files that are automatically extracted and installed to the /Applications folder on managed macOS devices via the Intune management agent.
---

# microsoft365_graph_beta_device_and_app_management_macos_dmg_app (Resource)

Manages a macOS DMG (Apple Disk Image) app deployment in Microsoft Intune using the `/deviceAppManagement/mobileApps` endpoint. DMG files contain one or more .app files that are automatically extracted and installed to the /Applications folder on managed macOS devices via the Intune management agent.

## Microsoft Documentation

- [macOSDmgApp resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-apps-macosdmgapp?view=graph-rest-beta)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Application**: `DeviceManagementApps.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.15.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_beta_device_and_app_management_macos_dmg_app" "docker_desktop" {
  display_name            = "Docker Desktop 4.36.0.dmg"
  description             = "Docker Desktop for macOS - containerization platform"
  publisher               = "Docker Inc."
  is_featured             = true
  privacy_information_url = "https://www.docker.com/legal/privacy-policy"
  information_url         = "https://www.docker.com/products/docker-desktop"
  owner                   = "Example Owner"
  developer               = "Docker Inc."
  notes                   = "This is a macOS DMG application managed through Terraform."
  role_scope_tag_ids      = [microsoft365_graph_beta_device_management_role_scope_tag.example.id, "2"]

  categories = [
    microsoft365_graph_beta_device_and_app_management_application_category.example.id, # custom app category
    "Business",                                                                        # builtin category
    "Developer Tools",
  ]

  app_icon = {
    icon_file_path_source = "/path/to/Docker_logo.png"
  }

  app_installer = {
    // either installer_file_path_source or installer_url_source must be provided
    installer_file_path_source = "/path/to/Docker Desktop 4.36.0.dmg"
    installer_url_source       = "https://example.com/Docker.dmg"
  }
  macos_dmg_app = {
    ignore_version_detection = true

    included_apps = [
      {
        bundle_id      = "com.docker.docker"
        bundle_version = "4.36.0"
      }
    ]

    minimum_supported_operating_system = {
      v14_0 = true
    }
  }

  # Optional: Add timeouts block
  timeouts = {
    create = "5m"
    read   = "20s"
    update = "5m"
    delete = "20s"
  }
}

resource "microsoft365_graph_beta_device_and_app_management_macos_dmg_app" "jamf_connect" {
  display_name            = "Jamf Connect 2.42.0.dmg"
  description             = "Jamf Connect - Identity and network access solution for macOS"
  publisher               = "Jamf Software, LLC"
  is_featured             = true
  privacy_information_url = "https://www.jamf.com/privacy-policy/"
  information_url         = "https://www.jamf.com/products/jamf-connect/"
  owner                   = "Example Owner"
  developer               = "Jamf Software, LLC"
  notes                   = "This is a macOS DMG application for Jamf Connect managed through Terraform."
  //role_scope_tag_ids      = [microsoft365_graph_beta_device_management_role_scope_tag.example.id, "2"]

  categories = [
    //microsoft365_graph_beta_device_and_app_management_application_category.example.id, # custom app category
    "Business", # builtin category
    //"Security",
  ]

  app_icon = {
    icon_file_path_source = "/Users/dafyddwatkins/Downloads/jamf-connect-icon.png"
  }

  app_installer = {
    installer_file_path_source = "/Users/dafyddwatkins/Downloads/JamfConnect-2.42.0.dmg"
  }

  macos_dmg_app = {
    ignore_version_detection = true

    included_apps = [
      {
        bundle_id      = "com.jamf.connect"
        bundle_version = "2.42.0"
      }
    ]

    minimum_supported_operating_system = {
      v14_0 = true
    }
  }

  # Optional: Add timeouts block
  timeouts = {
    create = "5m"
    read   = "20s"
    update = "5m"
    delete = "20s"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String) A detailed description of the Intune macOS DMG application.
- `display_name` (String) The title of the Intune macOS DMG application.
- `publisher` (String) The publisher of the Intune macOS DMG application.

### Optional

- `app_icon` (Attributes) The source information for the app icon. Supports various image formats (JPEG, PNG, GIF, etc.) which will be automatically converted to PNG as required by Microsoft Intune. (see [below for nested schema](#nestedatt--app_icon))
- `app_installer` (Attributes) Metadata related to the DMG installer file, such as size and checksums. This is automatically computed during app creation and updates. (see [below for nested schema](#nestedatt--app_installer))
- `categories` (Set of String) Set of category names to associate with this application. You can use either the predefined Intune category names like 'Business', 'Productivity', etc., or provide specific category UUIDs. Predefined values include: 'Other apps', 'Books & Reference', 'Data management', 'Productivity', 'Business', 'Development & Design', 'Photos & Media', 'Collaboration & Social', 'Computer management'.
- `content_version` (Attributes List) The committed content version of the app, including its files. Only the currently committed version is shown. (see [below for nested schema](#nestedatt--content_version))
- `developer` (String) The developer of the app.
- `information_url` (String) The more information Url.
- `is_featured` (Boolean) The value indicating whether the app is marked as featured by the admin.
- `macos_dmg_app` (Attributes) The path to the DMG file to be uploaded. Resource supports both local file sources and URL based sources. (see [below for nested schema](#nestedatt--macos_dmg_app))
- `notes` (String) Notes for the app.
- `owner` (String) The owner of the app.
- `privacy_information_url` (String) The privacy statement Url.
- `relationships` (Attributes List) List of relationships associated with this application. (see [below for nested schema](#nestedatt--relationships))
- `role_scope_tag_ids` (Set of String) Set of scope tag IDs for this Settings Catalog template profile.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_date_time` (String) The date and time the app was created. This property is read-only.
- `dependent_app_count` (Number) The total number of dependencies the child app has. This property is read-only.
- `id` (String) The unique identifier of the macOS DMG app.
- `is_assigned` (Boolean) The value indicating whether the app is assigned to at least one group. This property is read-only.
- `publishing_state` (String) The publishing state for the app. The app cannot be assigned unless the app is published. Possible values are: notPublished, processing, published.
- `superseded_app_count` (Number) The total number of apps this app is directly or indirectly superseded by. This property is read-only.
- `superseding_app_count` (Number) The total number of apps this app directly or indirectly supersedes. This property is read-only.
- `upload_state` (Number) The upload state. Possible values are: 0 - Not Ready, 1 - Ready, 2 - Processing. This property is read-only.

<a id="nestedatt--app_icon"></a>
### Nested Schema for `app_icon`

Optional:

- `icon_file_path_source` (String) The file path to the icon file to be uploaded. Supports various image formats which will be automatically converted to PNG.
- `icon_url_source` (String) The web location of the icon file, can be a http(s) URL. Supports various image formats which will be automatically converted to PNG.


<a id="nestedatt--app_installer"></a>
### Nested Schema for `app_installer`

Optional:

- `installer_file_path_source` (String) The path to the DMG installer file to be uploaded. The file must be a valid `.dmg` file. Value is not returned by API call.
- `installer_url_source` (String) The web location of the DMG installer file, can be a http(s) URL. The file must be a valid `.dmg` file. Value is not returned by API call.


<a id="nestedatt--content_version"></a>
### Nested Schema for `content_version`

Read-Only:

- `files` (Attributes Set) The files associated with this content version. (see [below for nested schema](#nestedatt--content_version--files))
- `id` (String) The unique identifier for this content version. This ID is assigned during creation of the content version. Read-only.

<a id="nestedatt--content_version--files"></a>
### Nested Schema for `content_version.files`

Read-Only:

- `azure_storage_uri` (String) Indicates the Azure Storage URI that the file is uploaded to. Read-only.
- `azure_storage_uri_expiration` (String) Indicates the date and time when the Azure storage URI expires, in ISO 8601 format. Read-only.
- `created_date_time` (String) Indicates created date and time associated with app content file, in ISO 8601 format. Read-only.
- `is_committed` (Boolean) A value indicating whether the file is committed. A committed app content file has been fully uploaded and validated by the Intune service. Read-only.
- `is_dependency` (Boolean) Indicates whether this content file is a dependency for the main content file.
- `is_framework_file` (Boolean) Indicates whether this content file is a framework file.
- `name` (String) Indicates the name of the file.
- `size` (Number) Indicates the original size of the file, in bytes.
- `size_encrypted` (Number) Indicates the size of the file after encryption, in bytes.
- `upload_state` (String) Indicates the state of the current upload request. This property is read-only.



<a id="nestedatt--macos_dmg_app"></a>
### Nested Schema for `macos_dmg_app`

Required:

- `included_apps` (Attributes Set) Define the app bundle identifiers and version numbers to be used to detect the presence of the macOS app installation. This list is dynamically populated based on the DMG metadata, and users can also append additional entries. Maximum of 500 apps.

### Notes:
- Included app bundle IDs (`CFBundleIdentifier`) and build numbers (`CFBundleShortVersionString`) are used for detecting and monitoring app installation status of the uploaded file.
- The list should **only** contain the application(s) installed by the uploaded file in the `/Applications` folder on macOS.
- Any other type of file that is not an application or is not installed in the `/Applications` folder should **not** be included.
- If the list contains files that are not applications or none of the listed apps are installed, app installation status will **not** report success.
- When multiple apps are present in the DMG, the **first app** in the list is used to identify the application.

### Example:
To retrieve the `CFBundleIdentifier` and `CFBundleShortVersionString` of an installed application, you can use the macOS Terminal:

```bash
# Retrieve the Bundle Identifier
defaults read /Applications/Company\ Portal.app/Contents/Info CFBundleIdentifier

# Retrieve the Short Version String
defaults read /Applications/Company\ Portal.app/Contents/Info CFBundleShortVersionString
```

Alternatively, these values can also be located in the `<app_name>.app/Contents/Info.plist` file inside the mounted DMG.

For apps added to Intune, the Intune admin center can also provide the app bundle ID. (see [below for nested schema](#nestedatt--macos_dmg_app--included_apps))
- `minimum_supported_operating_system` (Attributes) Specifies the minimum macOS version required for the application. Each field indicates whether the version is supported. (see [below for nested schema](#nestedatt--macos_dmg_app--minimum_supported_operating_system))

Optional:

- `ignore_version_detection` (Boolean) When TRUE, indicates that the app's version will NOT be used to detect if the app is installed on a device. When FALSE, indicates that the app's version will be used to detect if the app is installed on a device. Set this to true for apps that use a self update feature. The default value is FALSE.

Read-Only:

- `primary_bundle_id` (String) The bundleId of the primary app in the DMG. Maps to CFBundleIdentifier in the app's bundle configuration.
- `primary_bundle_version` (String) The version of the primary app in the DMG. Maps to CFBundleShortVersion in the app's bundle configuration.

<a id="nestedatt--macos_dmg_app--included_apps"></a>
### Nested Schema for `macos_dmg_app.included_apps`

Required:

- `bundle_id` (String) The `CFBundleIdentifier` of the app as defined in the DMG metadata or appended manually.
- `bundle_version` (String) The `CFBundleShortVersionString` of the app as defined in the DMG metadata or appended manually.


<a id="nestedatt--macos_dmg_app--minimum_supported_operating_system"></a>
### Nested Schema for `macos_dmg_app.minimum_supported_operating_system`

Optional:

- `v10_10` (Boolean) Application supports macOS 10.10 or later. Defaults to `false`.
- `v10_11` (Boolean) Application supports macOS 10.11 or later. Defaults to `false`.
- `v10_12` (Boolean) Application supports macOS 10.12 or later. Defaults to `false`.
- `v10_13` (Boolean) Application supports macOS 10.13 or later. Defaults to `false`.
- `v10_14` (Boolean) Application supports macOS 10.14 or later. Defaults to `false`.
- `v10_15` (Boolean) Application supports macOS 10.15 or later. Defaults to `false`.
- `v10_7` (Boolean) Application supports macOS 10.7 or later. Defaults to `false`.
- `v10_8` (Boolean) Application supports macOS 10.8 or later. Defaults to `false`.
- `v10_9` (Boolean) Application supports macOS 10.9 or later. Defaults to `false`.
- `v11_0` (Boolean) Application supports macOS 11.0 or later. Defaults to `false`.
- `v12_0` (Boolean) Application supports macOS 12.0 or later. Defaults to `false`.
- `v13_0` (Boolean) Application supports macOS 13.0 or later. Defaults to `false`.
- `v14_0` (Boolean) Application supports macOS 14.0 or later. Defaults to `false`.
- `v15_0` (Boolean) Application supports macOS 15.0 or later. Defaults to `false`.



<a id="nestedatt--relationships"></a>
### Nested Schema for `relationships`

Read-Only:

- `id` (String) The unique identifier for the relationship.
- `source_display_name` (String) The display name of the source application in the relationship.
- `source_display_version` (String) The display version of the source application in the relationship.
- `source_id` (String) The unique identifier of the source application in the relationship.
- `source_publisher_display_name` (String) The display name of the source application's publisher in the relationship.
- `target_display_name` (String) The display name of the target application in the relationship.
- `target_display_version` (String) The display version of the target application in the relationship.
- `target_id` (String) The unique identifier of the target application in the relationship.
- `target_publisher` (String) The publisher of the target application in the relationship.
- `target_publisher_display_name` (String) The display name of the target application's publisher in the relationship.
- `target_type` (String) The type of the target in the relationship.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **macOS Specific**: This resource is specifically for managing DMG (Disk Image) applications on macOS devices.
- **App Deployment**: DMG files are a common format for distributing macOS applications and contain the app bundle and installer.
- **Assignment Required**: Apps must be assigned to user or device groups to be deployed through Intune.
- **Detection Rules**: Configure detection rules to determine if the app is successfully installed on target devices.
- **Installation Context**: DMG apps can be installed in user or device context depending on configuration.
- **File Size Limits**: Be aware of file size limitations when uploading large DMG files to Intune.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash
# {resource_id}
terraform import microsoft365_graph_beta_device_and_app_management_macos_dmg_app.example macos-dmg-app-id
``` 