---
page_title: "microsoft365_graph_device_management_device_configuration_assignment Resource - terraform-provider-microsoft365"
subcategory: "Device Management"

description: |-
  Manages device configuration assignments using the /deviceManagement/deviceConfigurations/{deviceConfigurationId}/assignments endpoint. This resource controls assignments for device configurations.
---

# microsoft365_graph_device_management_device_configuration_assignment (Resource)

Manages device configuration assignments using the `/deviceManagement/deviceConfigurations/{deviceConfigurationId}/assignments` endpoint. This resource controls assignments for device configurations.

## Microsoft Documentation

- [deviceConfigurationAssignment resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-deviceconfig-deviceconfigurationassignment?view=graph-rest-1.0)
- [Create deviceConfigurationAssignment](https://learn.microsoft.com/en-us/graph/api/intune-deviceconfig-deviceconfigurationassignment-create?view=graph-rest-1.0)

## API Permissions

The following API permissions are required in order to use this resource.

### Microsoft Graph

- **Read**: `DeviceManagementConfiguration.Read.All`
- **Write**: `DeviceManagementConfiguration.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.17.0-alpha | Experimental | Initial release |

## Example Usage

```terraform
resource "microsoft365_graph_device_management_device_configuration_assignment" "example" {
  device_configuration_id = "00000000-0000-0000-0000-000000000000"
  target_type             = "groupAssignment"
  group_id                = "00000000-0000-0000-0000-000000000000"
}

resource "microsoft365_graph_device_management_device_configuration_assignment" "all_devices_example" {
  device_configuration_id = "00000000-0000-0000-0000-000000000000"
  target_type             = "allDevices"
}

resource "microsoft365_graph_device_management_device_configuration_assignment" "filtered_example" {
  device_configuration_id = "00000000-0000-0000-0000-000000000000"
  target_type             = "groupAssignment"
  group_id                = "00000000-0000-0000-0000-000000000000"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device_configuration_id` (String) The ID of the device configuration policy to assign.
- `target_type` (String) The target group type for the device configuration assignment. Possible values are:

- **allDevices**: Target all devices in the tenant
- **allLicensedUsers**: Target all licensed users in the tenant
- **configurationManagerCollection**: Target System Centre Configuration Manager collection
- **exclusionGroupAssignment**: Target a specific Entra ID group for exclusion
- **groupAssignment**: Target a specific Entra ID group

### Optional

- `group_id` (String) The ID of the Azure AD group to assign the device configuration to.

**Required when:**
- `target_type` is `groupAssignment` or `exclusionGroupAssignment`
- `target_type` is `configurationManagerCollection` (represents the collection ID)

**Not used when:**
- `target_type` is `allDevices` or `allLicensedUsers`
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier of the device configuration assignment.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Important Notes

- **Assignment Types**: This resource supports different assignment types, including assigning to all devices, all licensed users, or specific groups.
- **Group Targeting**: When using group assignment types, a valid Entra ID group ID must be provided.
- **Filter Support**: Assignments can be further refined using assignment filters to target specific devices within the assigned groups.
- **Exclusion Groups**: You can exclude specific groups from receiving the configuration by using the exclusionGroupAssignment target type.
- **Combination Strategy**: When multiple assignments exist for the same configuration, the most restrictive assignment takes precedence.

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash

terraform import microsoft365_graph_device_management_device_configuration_assignment.example 00000000-0000-0000-0000-000000000000:11111111-1111-1111-1111-111111111111
# where 00000000-0000-0000-0000-000000000000 is the device configuration ID and 11111111-1111-1111-1111-111111111111 is the assignment ID
``` 