# Design Decision: [Use Microsoft Kiota for API client generation and let MSFT generate the SDK's]

## Status
[Accepted]

## Context
Kiota is a command line tool for generating an API client to call any OpenAPI-described API. This project will use Microsoft kiota for api client generation

## Decision
This project will use microsoft kiota generated sdk's for graph v1.0 and graph beta. Microsoft's provide and this project will use SDK's
generated by Microsoft directly and we will not generate our own.

## Rationale
No requirement to build or maintain graph sdks, just import, configure and utilise.

## Consequences

### Positive

- Microsoft maintain the SDK genertion for the terraform provider
- Kiota builds off of the openapi3 spec for graph / graph
- middleware already built and integrates with existing extra libraries
- Kiota go sdk generation for graph is offers stable and beta graph endpoints

### Negative

- The api surface is huge, resulting in memory intensive development
- Dependant upon microsoft timelines for new SDK releases and updates
- Requires learning kiota based requests

## Alternatives Considered

Use Kiota and generate the SDK's myself with custom api path inclusions e.g by service or product family. Discounted because of the required maintainence and
crucially, this is labour intensive. Graph has tight relationship coupling across it's api surface meaning you need to not only understand all of the relationships
but keep abreast of those and update the export config to track against those changes.

Use another api client generator. Discounted because it incurs ongoing maintainence and bug fixing when issues arise.

## Implementation
[Provide a high-level overview of how this decision will be implemented]

## Related Decisions
[N/A]

## References
[Kiota](https://learn.microsoft.com/en-us/openapi/kiota/using)

## Team
[Maintainer]

## Date
[09-10-2024]