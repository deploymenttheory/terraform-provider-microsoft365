---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: "Device Management"

description: |-
{{ if .Description }}{{ .Description | plainmarkdown | trimspace | prefixlines "  " }}{{ else }}  Moves hybrid Azure AD joined Windows devices to a specified Active Directory Organizational Unit (OU).{{ end }}
---

# {{.Name}} ({{.Type}})

{{ if .Description }}{{ .Description | trimspace }}{{ else }}Moves hybrid Azure AD joined Windows devices to a specified Active Directory Organizational Unit (OU), enabling different Group Policy application and organizational structure alignment.{{ end }}

## Microsoft Documentation

### Graph API References
- [moveDevicesToOU action](https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-movedevicestoou?view=graph-rest-beta)
- [managedDevice resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-devices-manageddevice?view=graph-rest-beta)

### Active Directory and Hybrid Identity Guides
- [Hybrid Azure AD join](https://learn.microsoft.com/en-us/azure/active-directory/devices/hybrid-azuread-join-plan)
- [Azure AD Connect sync](https://learn.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-sync-whatis)
- [Group Policy Overview](https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831791(v=ws.11))

## API Permissions

The following API permissions are required in order to use this action.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.Read.All`, `DeviceManagementManagedDevices.Read.All`
- **Delegated**: `DeviceManagementConfiguration.Read.All`, `DeviceManagementManagedDevices.Read.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.33.0-alpha | Experimental | Initial release |
| v0.40.0-alpha | Experimental | Example fixes and refactored sync progress logic |


## Notes

### Platform Compatibility

| Platform | Support | Requirements |
|----------|---------|--------------|
| **Windows** | ✅ Full Support | Hybrid Azure AD joined devices with on-premises AD connectivity |
| **macOS** | ❌ Not Supported | Cloud-only management, no Active Directory integration |
| **iOS/iPadOS** | ❌ Not Supported | Cloud-only management |
| **Android** | ❌ Not Supported | Cloud-only management |

### What is Moving Devices to OU?

Moving devices to an Organizational Unit is an action that:
- Updates the Active Directory location of hybrid Azure AD joined Windows devices
- Changes the OU placement of computer objects in on-premises Active Directory
- Enables different Group Policy Objects (GPOs) to be applied based on new OU
- Reorganizes device structure to align with organizational hierarchy
- Does not affect Intune MDM management or device enrollment
- Reflects in Azure AD after next Azure AD Connect synchronization cycle

### Collection-Level Operation

This action operates at the **collection level**, which means:

| Aspect | Behavior |
|--------|----------|
| **API Call** | Single API call moves all specified devices |
| **Target OU** | All devices moved to the **same** OU path |
| **Efficiency** | More efficient than individual per-device moves |
| **Execution** | Batch operation processed together |
| **Result** | All devices succeed or fail as a group |

If you need to move devices to **different** OUs, you must create **separate actions** for each target OU.

### Requirements

**Active Directory Requirements:**
- On-premises Active Directory domain controller accessible
- Target OU must exist in Active Directory before the move
- Valid distinguished name (DN) format for OU path

**Azure AD Requirements:**
- Devices must be **hybrid Azure AD joined** (not cloud-only or workplace-joined)
- Azure AD Connect must be configured and actively syncing
- Sync schedule must be operational (default: 30 minutes)

**Permissions Requirements:**
- Azure AD Connect service account must have permissions to move computer objects
- Service account needs write access to target OU
- Service account needs read access to source OU

**Device Requirements:**
- Windows operating system only
- Hybrid Azure AD joined status
- Active enrollment in Intune

### When to Move Devices to OU

- Reorganizing device structure in Active Directory
- Applying different Group Policy Objects (GPOs) to device groups
- Moving devices between departments or organizational units
- Aligning device placement with organizational changes
- Implementing new security policies via GPO
- Consolidating devices for centralized management
- Responding to location or department transfers
- Preparing devices for different access control policies

### What Happens When Devices are Moved

1. **Immediate**: API request is processed by Microsoft Graph
2. **Active Directory**: Computer object is moved to new OU in on-premises AD
3. **Azure AD Connect**: Change is detected during next sync cycle (typically 30 minutes)
4. **Azure AD**: Device object is updated to reflect new OU placement
5. **Group Policy**: New OU's GPOs begin applying (computer refresh required for some settings)
6. **User Impact**: Minimal to none - device continues normal operation

### OU Path Format

The `organizational_unit_path` must be a valid Active Directory **distinguished name (DN)**:

**Format**: `OU=Name,OU=Parent,DC=domain,DC=com`

**Valid Examples**:
- `OU=Workstations,DC=contoso,DC=com`
- `OU=Laptops,OU=Mobile,DC=corp,DC=acme,DC=com`
- `OU=Finance,OU=Departments,DC=company,DC=local`
- `OU=Secure,OU=Security,OU=IT,DC=enterprise,DC=com`

**Important Notes**:
- Path is case-sensitive
- Must include full distinguished name from OU to DC components
- Cannot use LDAP shortcuts or abbreviations
- Must match exactly as it appears in Active Directory

### Group Policy Application

After moving devices to a new OU:

| GPO Type | Application Timing | Refresh Method |
|----------|-------------------|----------------|
| **Computer Settings** | Next computer startup or background refresh (90-120 min) | `gpupdate /force /boot` |
| **User Settings** | Next user logon or background refresh (90-120 min) | `gpupdate /force /logoff` |
| **Security Settings** | Requires restart for full application | Restart device |

### Azure AD Connect Sync

Changes reflect in Azure AD based on sync schedule:

| Sync Type | Default Interval | Scope |
|-----------|------------------|-------|
| **Delta Sync** | 30 minutes | Changed objects only |
| **Full Sync** | Varies (typically manual) | All objects |

Monitor sync status in:
- Azure AD Connect application on sync server
- Azure AD portal → Azure AD Connect → Sync Status
- Event Viewer on Azure AD Connect server

## Example Usage

{{ tffile "examples/actions/graph_beta_device_management_managed_device_move_devices_to_ou/action.tf" }}

{{ if .SchemaMarkdown }}{{ .SchemaMarkdown | trimspace }}{{ else }}Schema documentation not available.{{ end }}

