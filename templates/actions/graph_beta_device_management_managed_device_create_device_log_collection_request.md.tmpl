---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: "Device Management"

description: |-
{{ if .Description }}{{ .Description | plainmarkdown | trimspace | prefixlines "  " }}{{ else }}  Creates device log collection requests for Windows managed devices.{{ end }}
---

# {{.Name}} ({{.Type}})

{{ if .Description }}{{ .Description | trimspace }}{{ else }}Creates device log collection requests for Windows managed devices to gather diagnostic logs for troubleshooting, compliance investigation, and security analysis.{{ end }}

## Microsoft Documentation

### Graph API References
- [createDeviceLogCollectionRequest action](https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-createdevicelogcollectionrequest?view=graph-rest-beta)
- [deviceLogCollectionRequest resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-devices-devicelogcollectionrequest?view=graph-rest-beta)
- [managedDevice resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-devices-manageddevice?view=graph-rest-beta)

### Intune Log Collection Guides
- [Collect diagnostics from a Windows device](https://learn.microsoft.com/en-us/mem/intune/remote-actions/collect-diagnostics)
- [Windows device diagnostics](https://learn.microsoft.com/en-us/mem/intune/fundamentals/collect-diagnostics)

## API Permissions

The following API permissions are required in order to use this action.

### Microsoft Graph

- **Application**: `DeviceManagementConfiguration.ReadWrite.All`, `DeviceManagementManagedDevices.ReadWrite.All`
- **Delegated**: `DeviceManagementConfiguration.ReadWrite.All`, `DeviceManagementManagedDevices.ReadWrite.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.33.0-alpha | Experimental | Initial release |

## Notes

### Platform Compatibility

| Platform | Support | Requirements |
|----------|---------|--------------|
| **Windows** | ✅ Full Support | Windows 10 version 1709 or later, Windows 11 |
| **macOS** | ❌ Not Supported | Different logging mechanism (use MDM logs) |
| **iOS/iPadOS** | ❌ Not Supported | Different logging mechanism (use iOS logs) |
| **Android** | ❌ Not Supported | Different logging mechanism (use Android logs) |

### What is Device Log Collection?

Device Log Collection is an action that:
- Initiates diagnostic log gathering from Windows devices
- Collects system logs, event logs, and diagnostic data
- Uploads collected logs to Intune for analysis
- Provides a response with collection status and details
- Makes logs available for download in the Intune portal
- Supports troubleshooting and investigation workflows

### When to Collect Device Logs

- Troubleshooting device configuration or policy issues
- Investigating compliance violations or policy failures
- Diagnosing application deployment problems
- Security incident investigation and forensic analysis
- Proactive monitoring of device health
- Support ticket escalation requiring detailed diagnostics
- Analyzing Windows update or patch deployment failures

### What Happens When Log Collection is Requested

- Intune sends log collection request to the Windows device
- Device gathers specified diagnostic logs based on template
- Logs are compressed into a ZIP file
- Device uploads logs to Intune storage
- Collection status is tracked and made available
- Logs become available for download in Intune portal
- Collection request has an expiration date
- Response includes collection ID, status, timestamps, and other details

### Log Collection Response

The action returns a response for each device with:
- **Collection ID**: Unique identifier for tracking the collection
- **Status**: Current state (pending, completed, failed)
- **Requested/Received Times**: Timestamps for tracking progress
- **Expiration Date**: When the collected logs will be deleted
- **Initiator**: User who initiated the collection
- **Size Information**: Size of collected logs (when available)
- **Error Code**: If collection fails, error code for troubleshooting

### Accessing Collected Logs

1. Navigate to the device in Microsoft Intune admin center
2. Select "Device diagnostics" or "Collect logs" from device actions
3. View collection status and download links
4. Download collected log files (typically ZIP format)
5. Extract and analyze using appropriate tools (Event Viewer, text editors, etc.)

## Example Usage

{{ tffile "examples/actions/graph_beta_device_management_managed_device_create_device_log_collection_request/action.tf" }}

{{ if .SchemaMarkdown }}{{ .SchemaMarkdown | trimspace }}{{ else }}Schema documentation not available.{{ end }}

