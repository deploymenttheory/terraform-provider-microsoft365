---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: "Device Management"

description: |-
{{ if .Description }}{{ .Description | plainmarkdown | trimspace | prefixlines "  " }}{{ else }}  Recovers escrowed passcodes from managed devices.{{ end }}
---

# {{.Name}} ({{.Type}})

{{ if .Description }}{{ .Description | trimspace }}{{ else }}Recovers existing passcodes that were escrowed to Intune during device enrollment. This action retrieves passcodes rather than generating new ones, making it ideal for iOS/iPadOS supervised devices where passcode escrow was configured.{{ end }}

## Microsoft Documentation

### Graph API References
- [recoverPasscode action](https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-recoverpasscode?view=graph-rest-beta)
- [managedDevice resource type](https://learn.microsoft.com/en-us/graph/api/resources/intune-devices-manageddevice?view=graph-rest-beta)

### Intune Remote Actions Guides
- [Device remove passcode](https://learn.microsoft.com/en-us/intune/intune-service/remote-actions/device-remove-passcode)

## API Permissions

The following API permissions are required in order to use this action.

### Microsoft Graph

- **Application**: `DeviceManagementManagedDevices.PrivilegedOperations.All`
- **Delegated**: `DeviceManagementManagedDevices.PrivilegedOperations.All`

## Version History

| Version | Status | Notes |
|---------|--------|-------|
| v0.33.0-alpha | Experimental | Initial release |
| v0.40.0-alpha | Experimental | Example fixes and refactored sync progress logic |


## Notes

### Platform Compatibility

| Platform | Support | Escrow Requirements |
|----------|---------|---------------------|
| **iOS** | ✅ Full Support | Supervised, DEP/ABM enrolled, escrow enabled |
| **iPadOS** | ✅ Full Support | Supervised, DEP/ABM enrolled, escrow enabled |
| **macOS** | ⚠️ Limited | Specific configurations, rarely used |
| **Windows** | ❌ Not Supported | Windows passcode recovery not available |
| **Android** | ❌ Not Supported | Android passcode recovery not available |

### Recover vs Reset Passcode

| Action | What It Does | Best For | Requirements |
|--------|--------------|----------|--------------|
| **Recover** | Retrieves existing escrowed passcode | Supervised iOS/iPadOS with escrow | Passcode must be escrowed |
| **Reset** | Generates new temporary passcode | Any supported device | Device must be online |

### What is Passcode Escrow?

Passcode escrow is a security feature that:
- Stores encrypted copy of device passcode in Intune
- Configured during device enrollment setup
- Primarily available for supervised iOS/iPadOS devices
- Requires specific enrollment profile settings
- Enables IT to recover (not reset) user passcodes
- Useful for emergency device access

### Escrow Configuration Requirements

For passcode recovery to work, devices must:
1. Be supervised (iOS/iPadOS)
2. Enrolled via DEP/ABM or Apple Configurator
3. Have passcode escrow enabled in enrollment profile
4. Have user-set passcode after escrow enabled
5. Passcode must be actively escrowed (not expired)

### When to Use Recover vs Reset

**Use Recover Passcode When:**
- Device is supervised iOS/iPadOS
- Passcode escrow is confirmed enabled
- You want the user's original passcode
- No device configuration change desired
- User forgot passcode but device enrolled correctly

**Use Reset Passcode When:**
- Passcode recovery fails (not escrowed)
- Device is unsupervised
- Platform doesn't support escrow (Windows, Android)
- You need to force a passcode change
- Passcode escrow wasn't configured

### How to Verify Passcode Escrow

Before attempting recovery:
1. Check device enrollment profile settings
2. Verify "Escrow passcode" is enabled
3. Confirm device is supervised
4. Check device was enrolled with correct profile
5. Verify enrollment wasn't bypassed

### Retrieving Recovered Passcode

After successful recovery:
1. Navigate to Microsoft Intune admin center
2. Select Devices > All devices
3. Choose the device
4. View device properties or hardware information
5. Look for "Passcode" or "Recovery" section
6. Passcode displayed as plain text or retrievable
7. Securely communicate to authorized user

### Common Failure Reasons

| Error | Cause | Solution |
|-------|-------|----------|
| Not escrowed | Passcode never saved to Intune | Use reset passcode instead |
| Unsupervised | Device not in supervised mode | Re-enroll via DEP/ABM |
| Wrong profile | Enrolled without escrow enabled | Check enrollment profile settings |
| Expired escrow | Passcode changed after enrollment | May need to reset instead |
| Wrong platform | Windows/Android attempted | Use reset for these platforms |

### Security Considerations

- **Sensitive Data**: Recovered passcodes are actual user passcodes
- **Access Control**: Strictly limit who can recover passcodes
- **Verification**: Verify user identity before providing passcode
- **Communication**: Never send passcodes via email or unsecured chat
- **Documentation**: Log all passcode recovery requests
- **Compliance**: Ensure recovery aligns with privacy policies
- **Audit Trail**: Maintain records of who recovered what/when

### Best Practices

- Try recover before reset (preserves user experience)
- Verify escrow status before attempting recovery
- Have reset passcode as fallback option
- Implement approval workflow for recovery requests
- Train help desk on when to use recover vs reset
- Document business justification for recovery
- Secure passcode communication channels
- Monitor for patterns of repeated recovery
- Review enrollment profiles regularly
- Test escrow functionality with test devices

## Example Usage

{{ tffile "examples/actions/graph_beta_device_management_managed_device_recover_passcode/action.tf" }}

{{ if .SchemaMarkdown }}{{ .SchemaMarkdown | trimspace }}{{ else }}Schema documentation not available.{{ end }}


